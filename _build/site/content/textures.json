{"version":2,"kind":"Article","sha256":"38ebb9f20d239a75e15b022293f5c7e7554a948994bfb177ccdd1d177fe74ea3","slug":"textures","location":"/_pages/03_Textures.md","dependencies":[],"frontmatter":{"title":"Lab 3: Textures","content_includes_title":false,"github":"https://github.com/jonshiach/graphics-notes","keywords":["jupyter-book","graphics","computer graphics","webgl"],"copyright":"2026, Jon Shiach","thumbnail":"/03_texture_mapping-4510276175261610b7d35be6ff0a7015.svg","exports":[{"format":"md","filename":"03_Textures.md","url":"/03_Textures-2a7f71dbb023b5d1933ee1bd14899d02.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Texture mapping is a technique for applying a 2D image known as a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"iCm8Q7fn4G"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"texture","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"aF1s4y4XKC"}],"key":"XF5kSeuxme"},{"type":"text","value":" onto a 3D surface. Applying a texture adds detail and complexity to the appearance of 3D objects without the need for modelling intricate geometry.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Vjb04iV275"}],"key":"rp2WgwD6Ih"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_texture_mapping-4510276175261610b7d35be6ff0a7015.svg","alt":"Mapping a texture to a polygon.","width":"700","data":{"altTextIsAutoGenerated":true},"key":"BTiURF2Eas","urlSource":"../_images/03_texture_mapping.svg"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"texture-mapping-figure","identifier":"texture-mapping-figure","html_id":"texture-mapping-figure","enumerator":"1","children":[{"type":"text","value":"Figure ","key":"hIF8Rjiicl"},{"type":"text","value":"1","key":"k7ufmbb3Tn"},{"type":"text","value":":","key":"LdZEOOc1JQ"}],"template":"Figure %s:","key":"WeaezPG235"},{"type":"text","value":"Mapping a texture to a polygon.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Q5BaOCYNWO"}],"key":"GumNhcLzV0"}],"key":"a3G1KbvadF"}],"label":"texture-mapping-figure","identifier":"texture-mapping-figure","enumerator":"1","html_id":"texture-mapping-figure","key":"LpQSm9OFpS"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"The texture is a 2D image where each pixel within the texture, known as a ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"OJpZIaSTc7"},{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"textel","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"dSNwvkz0Qj"}],"key":"SWwByxlUZx"},{"type":"text","value":", is referenced using the ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"oJxhb0TZvI"},{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"texture coordinates","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"gTyGdadbyM"}],"key":"M1jgYzeRL5"},{"type":"text","value":" given as ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"N12yJ9lZX5"},{"type":"inlineMath","value":"(u,v)","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u,v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"lPyXVfmMBG"},{"type":"text","value":" where ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"NvEMgxFBow"},{"type":"inlineMath","value":"u","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span>","key":"tMxHoCeKNO"},{"type":"text","value":" and ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"OqDMswNJmL"},{"type":"inlineMath","value":"v","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"ruuUvUa2vN"},{"type":"text","value":" are in the range 0 to 1, i.e., ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"HDzCUWAuY2"},{"type":"inlineMath","value":"(0,0)","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0,0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"h1axuixC1K"},{"type":"text","value":" corresponds to the textel in the bottom-left corner and ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"NpBMYE0zMq"},{"type":"inlineMath","value":"(1,1)","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(1,1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>","key":"uVXF3byMyV"},{"type":"text","value":" corresponds to the textel in the top-right corner. When a fragment is created by the shader the corresponding texture coordinates are calculated and the sample colour of the textel is used for the fragment. Fortunately we do not need to write a texture mapper functions since these are in WebGL.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"gJPNBTFqO2"}],"key":"O1UOl69R29"},{"type":"thematicBreak","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"E2ySSiluEt"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Task","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"i3PxDqat5C"}],"key":"DAeleuF0R9"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Create a folder on your computer titled ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"MnjoEB9qi8"},{"type":"emphasis","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"03 Textures/","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"qDXTyDc5lW"}],"key":"lvJOuU6NOo"}],"key":"z49orazUlT"},{"type":"text","value":" and download the files ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"QKPd6IAzDH"},{"type":"link","url":"../_webgl/_downloads/Lab03/index.html","static":true,"children":[{"type":"text","value":"index.html","key":"vNXHNzzaUb"}],"urlSource":"../_webgl/_downloads/Lab03/index.html","key":"iD7E40BxTA"},{"type":"text","value":", ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"hcLZPhNp1H"},{"type":"link","url":"../_webgl/_downloads/Lab03/textures.js","static":true,"children":[{"type":"text","value":"textures.js","key":"KGby4S05X4"}],"urlSource":"../_webgl/_downloads/Lab03/textures.js","key":"LpimfDyIZx"},{"type":"text","value":" and ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"O0bpLEGDbJ"},{"type":"link","url":"../_webgl/_downloads/Lab03/utils.js","static":true,"children":[{"type":"text","value":"utils.js","key":"VVq8y0fmAr"}],"urlSource":"../_webgl/_downloads/Lab03/utils.js","key":"p7iNoyCEFF"},{"type":"text","value":" to it. Load ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"yozH8UOFrX"},{"type":"emphasis","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"index.html","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"CHRo0FUeNY"}],"key":"JQddOiiTrR"}],"key":"GX9gAHpcZf"},{"type":"text","value":", and you should see a rectangle drawn in the centre of the canvas with different colours applied to the four vertices.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"qVmThRsQ00"}],"key":"dKGZRhLJU0"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_colourful_rectang-97c9bb4a67d37ae443d28715bea4906f.png","width":"80%","key":"XDibLHD3DL","urlSource":"../_images/03_colourful_rectangle.png","urlOptimized":"/03_colourful_rectang-97c9bb4a67d37ae443d28715bea4906f.webp"}],"enumerator":"2","key":"Ip30WZKRpo"}],"class":"tip","key":"T8a3bCgSoX"},{"type":"thematicBreak","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"FMo1rDDaUt"},{"type":"heading","depth":2,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Creating a texture","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"GT5o8E1AgX"}],"identifier":"creating-a-texture","label":"Creating a texture","html_id":"creating-a-texture","implicit":true,"key":"LGjNkcwLXI"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"The first thing we are going to do is create a ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"RMnDeeYY3n"},{"type":"inlineMath","value":"4 \\times 4","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>4</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">4 \\times 4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span>","key":"X6vWszxCIH"},{"type":"text","value":" pixel texture with alternating black and white pixels.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"oEovkphksG"}],"key":"f2wmMl0qFZ"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Task","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"g5IzfD0XbA"}],"key":"J2a9j8TF8J"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Enter the following after the EBO has been created.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"mpUujwmEr1"}],"key":"kKNj1Kub6Q"},{"type":"code","lang":"javascript","value":"// create 4x4 texture\nconst pixels = new Uint8Array([\n  255, 255, 255,    0, 0, 0,          255, 255, 255,    0, 0, 0,\n  0, 0, 0,          255, 255, 255,    0, 0, 0,          255, 255, 255,\n  255, 255, 255,    0, 0, 0,          255, 255, 255,    0, 0, 0,\n  0, 0, 0,          255, 255, 255,    0, 0, 0,          255, 255, 255,\n]);","position":{"start":{"line":40,"column":1},"end":{"line":48,"column":1}},"key":"FDM1NQ0kTs"}],"class":"tip","key":"dwhF5W3vcH"},{"type":"paragraph","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"Now that we have defined an array for the pixels we now need to create a WebGL texture object.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"RB4PEBNk0e"}],"key":"cJiWvS6w6n"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Task","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"WxbiKxC44L"}],"key":"IHwg6vKoVQ"},{"type":"code","lang":"javascript","value":"// Create texture\nconst texture = gl.createTexture();\ngl.bindTexture(gl.TEXTURE_2D, texture);\ngl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 4, 4, 0, gl.RGB, gl.UNSIGNED_BYTE, pixels);\ngl.generateMipmap(gl.TEXTURE_2D);\ngl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\ngl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);","position":{"start":{"line":57,"column":1},"end":{"line":65,"column":1}},"key":"qzSUlp55ox"}],"class":"tip","key":"tEbTogyLvj"},{"type":"definitionList","position":{"start":{"line":69,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"definitionTerm","position":{"start":{"line":69,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"inlineCode","value":"gl.createTexture();","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"bYKa0FIidj"}],"key":"sscGIg0hVL"},{"type":"definitionDescription","position":{"start":{"line":70,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Creates a WebGL texture object.","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"oOyKPaM2jk"}],"key":"IWPWAiAJHH"},{"type":"definitionTerm","position":{"start":{"line":72,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"inlineCode","value":"gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 4, 4, 0, gl.RGB, gl.UNSIGNED_BYTE, pixels);","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"Fexv9Da5fE"}],"key":"BTCA6zRPBM"},{"type":"definitionDescription","position":{"start":{"line":72,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Specifies a 2D texture image. We have a ","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"pUBN165Cw2"},{"type":"inlineMath","value":"4 \\times 4","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>4</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">4 \\times 4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span>","key":"ghBnnm84Ht"},{"type":"text","value":" texture that we have defined using RGB hence we are using these inputs (see ","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"CX5mn7dGNh"},{"type":"link","url":"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glTexImage2D.xhtml","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"Khronos reference pages","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"Lx8sApZe1y"}],"urlSource":"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glTexImage2D.xhtml","key":"VQIr6A5Uxf"},{"type":"text","value":" for details of the inputs).","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"BlZ1Grozh2"}],"key":"CFKMw9z4Z3"},{"type":"definitionTerm","position":{"start":{"line":75,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"inlineCode","value":"gl.generateMipmap()","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"F94NfXtA6t"}],"key":"UuozulWfyy"},{"type":"definitionDescription","position":{"start":{"line":75,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"text","value":"Generates the mipmaps for this texture (see ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"WWC3tgcB3a"},{"type":"crossReference","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"below","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"TUHCXagQMA"}],"identifier":"mipmaps-section","label":"mipmaps-section","kind":"heading","template":"{name}","resolved":true,"html_id":"mipmaps-section","key":"cTV30RUB0s"},{"type":"text","value":").","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"lRxZC7AxrI"}],"key":"PbZFxbBHDf"},{"type":"definitionTerm","position":{"start":{"line":78,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"inlineCode","value":"gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST)","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"JclLpw73el"}],"key":"KGUVme7PsK"},{"type":"definitionDescription","position":{"start":{"line":78,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"Sets a texture parameter. Here we have set the minificiation and magnification parameters for our 2D texture so that it uses the nearest pixel in the texture to the screen pixel (see ","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"ot84XC4s2e"},{"type":"crossReference","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"text","value":"texture filtering","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"nRNyLHCK15"}],"identifier":"texture-filtering-section","label":"texture-filtering-section","kind":"heading","template":"{name}","resolved":true,"html_id":"texture-filtering-section","key":"aSg775WBAh"},{"type":"text","value":")","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"YP4lkkH5Vc"}],"key":"c2SQebWuH4"}],"key":"yJkQmffHkU"},{"type":"thematicBreak","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"zzJ9otS7ce"},{"type":"heading","depth":2,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"Texture coordinates","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"x6k3NcrSEr"}],"identifier":"texture-coordinates","label":"Texture coordinates","html_id":"texture-coordinates","implicit":true,"key":"H6phjv2PjP"},{"type":"paragraph","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"So we have created a texture and told WebGL all about it. Now we need to specify how we want to use the texture. To do this for each of the vertices of the triangle we need to define the corresponding ","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"yq5Vzubwsx"},{"type":"inlineMath","value":"(u, v)","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u, v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"zBm9U0xwm5"},{"type":"text","value":" texture coordinates where ","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"Eg8Z12hDzi"},{"type":"inlineMath","value":"(0,0)","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0,0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"dAMgtSXd3j"},{"type":"text","value":" is the bottom left-hand corner and ","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"slBSSiU4zx"},{"type":"inlineMath","value":"(1,1)","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(1,1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>","key":"cPClw21w9v"},{"type":"text","value":" is the top-right hand corner of the texture (see ","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"dl0FaRy1fC"},{"type":"crossReference","kind":"figure","identifier":"texture-mapping-figure","label":"texture-mapping-figure","children":[{"type":"text","value":"Figure ","key":"PPfBkaWyO6"},{"type":"text","value":"1","key":"qTEm28q2go"}],"template":"Figure %s","enumerator":"1","resolved":true,"html_id":"texture-mapping-figure","key":"kCkH7CLJAO"},{"type":"text","value":"). We already have an array that contains the vertex coordinates and colours, so we can simply add ","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"gfKvr0Fvq9"},{"type":"inlineMath","value":"(u, v)","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u, v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"Bdf9gQsR54"},{"type":"text","value":" coordinates to this.","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"AOqKm0qwKl"}],"key":"DX2cdgRf13"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Task","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"WQL1U7zquc"}],"key":"nllg6O9oaz"},{"type":"paragraph","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"Edit the ","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"X3wPR4g1YO"},{"type":"inlineCode","value":"vertices","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"wt7MTSAb7A"},{"type":"text","value":" array so that the ","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"McBFedwdQr"},{"type":"inlineMath","value":"(u,v)","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u,v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"fdYBZ0wMJs"},{"type":"text","value":" coordinates are defined for each vertex.","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"NBEiJ20AUk"}],"key":"lwpwtmI1PH"},{"type":"code","lang":"javascript","value":"// Define vertices\nconst vertices = new Float32Array([\n  // x    y    z       r    g    b       u    v     \n  -0.5, -0.5, 0.0,    1.0, 0.0, 0.0,    0.0, 0.0, // vertex 0     3 -- 2\n   0.5, -0.5, 0.0,    0.0, 1.0, 0.0,    1.0, 0.0, // vertex 1     |  / |    \n   0.5,  0.5, 0.0,    0.0, 0.0, 1.0,    1.0, 1.0, // vertex 2     | /  | \n  -0.5,  0.5, 0.0,    0.0, 0.0, 0.0,    0.0, 1.0, // vertex 3     0 -- 1 \n]);","position":{"start":{"line":92,"column":1},"end":{"line":101,"column":1}},"key":"EpAX8AVenu"}],"class":"tip","key":"EYPcm5izCL"},{"type":"paragraph","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"Here we have defined the texture coordinates for each vertex so that each vertex of the rectangle is mapped to the corresponding vertex of the texture (we don’t need to do this but since this is our first example it makes sense to keep things simple).","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"HYaFI0WU2v"}],"key":"icR8Z8zMDW"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Now that we have added texture coordinates to the vertex buffer we neeed to tell WebGL about them. Each vertex now has 8 datapoints (","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"aBDPFtbZwg"},{"type":"inlineMath","value":"x","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"BcAlPECkXx"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"AuTM7WQkmr"},{"type":"inlineMath","value":"y","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"QUNH0mROD8"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"aaP0Wl4OX1"},{"type":"inlineMath","value":"z","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span></span>","key":"MFPgVtHeFa"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"JavlHigOBf"},{"type":"inlineMath","value":"R","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>","key":"HVv8HBx5ud"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"PppN5fVkyE"},{"type":"inlineMath","value":"G","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span>","key":"jbwkV9z1mv"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"Ul1u1AwaZ1"},{"type":"inlineMath","value":"B","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span>","key":"GW4Pgt90r8"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"FqgBoJfhyE"},{"type":"inlineMath","value":"u","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span>","key":"c2qYaByY7L"},{"type":"text","value":" and ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"U4x5mtBMMe"},{"type":"inlineMath","value":"v","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"jlaFShJ6Gb"},{"type":"text","value":") so the ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"VTgitHt1cv"},{"type":"crossReference","kind":"figure","identifier":"stride-offset-figure","label":"stride-offset-figure","children":[{"type":"text","value":"stride","key":"S0QsqTxvNS"}],"template":"Figure %s","enumerator":"3","resolved":true,"html_id":"stride-offset-figure","remote":true,"url":"/colours","dataUrl":"/colours.json","key":"IQzszNhxht"},{"type":"text","value":" between the ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"ELJxSIIkKp"},{"type":"inlineMath","value":"x","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"yLcLeyEZDk"},{"type":"text","value":" coordinates of successive vertices is now 8 multiplied by the number of bytes used to store a 32-bit float.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"H8z7xuoGN2"}],"key":"MsyCbMK9KT"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Task","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"KTj2a5zhnY"}],"key":"ceUqqN6x2v"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":112,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":112,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Add the following to get the location of the texture coordinate attribute where we do the same for ","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"QVZ7NtRMkq"},{"type":"inlineCode","value":"positionLocation","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"ddT1zMN8Uh"},{"type":"text","value":" and ","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"UEcY7UoOlW"},{"type":"inlineCode","value":"colourLocation","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"UYRVwWpljY"},{"type":"text","value":".","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"DQq48b5XCP"}],"key":"mC1F3gRoSe"}],"key":"PKFJVFK70O"}],"key":"yFVRpAZiBp"},{"type":"code","lang":"javascript","value":"const texCoordLocation = gl.getAttribLocation(shaderProgram, \"aTexCoord\");","position":{"start":{"line":114,"column":1},"end":{"line":116,"column":1}},"key":"hwQsqgdUVA"},{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":118,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":118,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Change the ","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"NfQyowURdQ"},{"type":"inlineCode","value":"gl.vertexAttribPointer()","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"nqED9T0rGB"},{"type":"text","value":" function for the vertex coordinates and colour of the vertices so that the stride is changed from 5 to 8.","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"bIEBR17uH3"}],"key":"uLD3thHtdz"}],"key":"fRp5xBpeS9"}],"key":"FlgWVUXxr7"},{"type":"code","lang":"javascript","value":"gl.enableVertexAttribArray(positionLocation);\ngl.vertexAttribPointer(positionLocation, 3, gl.FLOAT, false, 8 * Float32Array.BYTES_PER_ELEMENT, 0);\ngl.enableVertexAttribArray(colourLocation);\ngl.vertexAttribPointer(colourLocation, 3, gl.FLOAT, false, 8 * Float32Array.BYTES_PER_ELEMENT, 3 * Float32Array.BYTES_PER_ELEMENT);    ","position":{"start":{"line":120,"column":1},"end":{"line":125,"column":1}},"key":"wWdirYRl1b"},{"type":"list","ordered":true,"start":3,"spread":false,"position":{"start":{"line":127,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":127,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Add a ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"xSjVgELYgn"},{"type":"inlineCode","value":"gl.vertexAttribPointer()","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"PtH7EXUaAD"},{"type":"text","value":" function for the texture coordinates.","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"a4Ih5ZYLV8"}],"key":"vs23p2bEkp"}],"key":"r0gNYhr7D5"}],"key":"XVFU3wbU3U"},{"type":"code","lang":"javascript","value":"gl.enableVertexAttribArray(texCoordLocation);\ngl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 8 * Float32Array.BYTES_PER_ELEMENT, 6 * Float32Array.BYTES_PER_ELEMENT);","position":{"start":{"line":129,"column":1},"end":{"line":132,"column":1}},"key":"h0gIPoa3s9"}],"class":"tip","key":"nHjE1iuGCC"},{"type":"thematicBreak","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"Q2o1OLBpZa"},{"type":"heading","depth":2,"position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"Shaders","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"Jitgdn6Cxb"}],"identifier":"shaders","label":"Shaders","html_id":"shaders","implicit":true,"key":"KGRwfpwRPC"},{"type":"paragraph","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"The last thing we need to do to apply the texture is to update the vertex and fragment shader. The texture coordinates are read in by the vertex shader and then passed to the rasteriser which calculates the texture coordinates of each fragment.","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"G2Fz08OLEB"}],"key":"Z7Ie035Sia"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Task","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"rHPPyVjwHm"}],"key":"geccD8tdOx"},{"type":"paragraph","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"Edit the vertex shader source code at the top of the ","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"RgVz3KXbvM"},{"type":"emphasis","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"strong","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"textures.js","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"H9adpL4npk"}],"key":"TMlK7RAgNK"}],"key":"Oh6Wncqsps"},{"type":"text","value":" file so that it looks like the following","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"cAztQjvjDC"}],"key":"XAH566TbAr"},{"type":"code","lang":"c","value":"#version 300 es\nprecision mediump float;\n\nin vec3 aPosition; \nin vec3 aColour;\nin vec2 aTexCoord;\n\nout vec3 vColour;\nout vec2 vTexCoord;\n\nvoid main() {\n  /// Output vertex coordinates\n  gl_Position = vec4(aPosition, 1.0);\n\n  // Output vertex colour\n  vColour = aColour;\n\n  // Output texture co-ordinates\n  vTexCoord = aTexCoord;\n}","position":{"start":{"line":147,"column":1},"end":{"line":168,"column":1}},"key":"OGQFMPdDEK"}],"class":"tip","key":"BGKAlsxCwV"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Here we declare a 2-element input vector ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"Pfro45s83t"},{"type":"inlineCode","value":"aTexCoord","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"TLbKCUgXLz"},{"type":"text","value":" and a 2-element output vector ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"WlFCdkpC1v"},{"type":"inlineCode","value":"vTexCoord","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"ouWWDQuwej"},{"type":"text","value":" for the texture coordinates of the vertex (recall that standard convention is that the prefix ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"HyXB83oIpi"},{"type":"inlineCode","value":"a","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"vTXDPP3dE6"},{"type":"text","value":" stands for attribute and ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"KZACPpLTj1"},{"type":"inlineCode","value":"v","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"tCa2d7U6fF"},{"type":"text","value":" stands for vertex). The texture coordinates are outputted without us doing anything to them.","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"IsrSaS2UWr"}],"key":"seQF8DNqzJ"},{"type":"paragraph","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"The fragment shader needs to read in the texture coordinates of the fragment and get the colour of the fragment from the texture.","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"ppZCWEgcmG"}],"key":"Ii2np9M63N"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Task","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"ytmzm5jBWs"}],"key":"o6hW2GYoFK"},{"type":"paragraph","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Edit the fragment shader source code so that it looks like the following","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"FJ71r3uVpM"}],"key":"kW1SQx6aFr"},{"type":"code","lang":"c","value":"#version 300 es\nprecision mediump float;\n\nin vec3 vColour;\nin vec2 vTexCoord;\n\nout vec4 outColour;\n\nuniform sampler2D uSampler;\n\nvoid main() {\n  outColour = texture(uSampler, vTexCoord);\n}","position":{"start":{"line":181,"column":1},"end":{"line":195,"column":1}},"key":"BZlhxnhEXA"}],"class":"tip","key":"dph3Xm4RvO"},{"type":"paragraph","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"Here we now have an input of the 2-element vector ","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"iR27wLrrLC"},{"type":"inlineCode","value":"vTexCoord","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"rXZAOfx1UG"},{"type":"text","value":" which has been outputted from the vertex shader. Since our texture is a 2D image then we use the sampler2D GLSL type to declare the uniform textureMap (","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"QVeT4pX27i"},{"type":"crossReference","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"uniforms","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"HyHrg8GHhz"}],"identifier":"uniforms-section","label":"uniforms-section","kind":"heading","template":"{name}","resolved":true,"html_id":"uniforms-section","key":"JrWoJ3mZQp"},{"type":"text","value":" are explained below). The colour of the fragment is taken from the texture using the ","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"IO2Ixrg9jm"},{"type":"inlineCode","value":"texture()","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"KYpkAMQVoy"},{"type":"text","value":" function where the first argument is the name of the texture uniform and the second argument is the texture coordinates of the fragment.","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"PGX3gqLQ4M"}],"key":"MVWr3o4Atv"},{"type":"paragraph","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"Refresh your web browser, and you should see that a checkerboard texture has been applied to the rectangle.","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"SNE5DnvY5H"}],"key":"U5ggDQs3Lx"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_checkerboard_rect-d38a3239600679c40c35778245227732.png","width":"80%","key":"zss1fR7x99","urlSource":"../_images/03_checkerboard_rectangle.png","urlOptimized":"/03_checkerboard_rect-d38a3239600679c40c35778245227732.webp"}],"enumerator":"3","key":"paXReyjYaU"},{"type":"thematicBreak","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"kUj4c3x97m"},{"type":"paragraph","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"children":[{"type":"text","value":"Here we have defined a target called ","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"f79V6w7ySE"},{"type":"inlineCode","value":"texture","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"PL5cWFeZ2U"},{"type":"text","value":" which is an integer used to refer to the texture. The texture is then generated and bound to this target using the ","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"e2IQWROp9f"},{"type":"inlineCode","value":"glGenTextures()","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"uWjtBoKRfK"},{"type":"text","value":" and ","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"RIHyh96gCB"},{"type":"inlineCode","value":"glBindTexture()","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"C36IAi9R9C"},{"type":"text","value":" functions. -->","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"sgqfGVJf9p"}],"key":"iBiRvCXyXd"},{"type":"paragraph","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"We now need to load an image into our texture. To do this we are going to make use of the ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"Q3WYD2PAaF"},{"type":"link","url":"https://github.com/nothings/stb/tree/master","children":[{"type":"text","value":"stb_image","key":"Vmyw1JBV1r"}],"urlSource":"https://github.com/nothings/stb/tree/master","error":true,"key":"BmWfADzyF8"},{"type":"text","value":" library, the header file for which can be found in the ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"Pg0PXC2Ljd"},{"type":"strong","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"common/","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"hJCT03uDx9"}],"key":"ptdDAggdK6"},{"type":"text","value":" folder. Enter the following code into your program.","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"SwReGo6wmE"}],"key":"lEye8XqBaT"},{"type":"code","lang":"cpp","value":"// Load texture image from file\nconst char *path = \"../assets/crate.jpg\";\nint width, height, nChannels;\nstbi_set_flip_vertically_on_load(true);\nunsigned char *data = stbi_load(path, &width, &height, &nChannels, 0);\n\nif (data)\n    std::cout << \"Texture loaded.\" << std::endl;\nelse\n    std::cout << \"Texture not loaded. Check the path.\" << std::endl;","position":{"start":{"line":213,"column":1},"end":{"line":224,"column":1}},"key":"jmRawToZIV"},{"type":"paragraph","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"children":[{"type":"text","value":"The functions used here are:","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"QCmZ7GFA11"}],"key":"G8KAa4GZst"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":228,"column":1},"end":{"line":230,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"stbi_set_flip_vertically_on_load()","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"IJIhm6eLEI"},{"type":"text","value":" flips the image vertically since the ","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"b62SzN8EkU"},{"type":"inlineMath","value":"(0,0)","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0,0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"JcMFAmAdWy"},{"type":"text","value":" coordinate on an image is the top-left corner and WebGL expects it to be the bottom-right corner","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"e9Sie6nNYB"}],"key":"gm1c7EG3nV"}],"key":"YhrbYCTJnh"},{"type":"listItem","spread":true,"position":{"start":{"line":229,"column":1},"end":{"line":230,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"stbi_load()","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"xHdN3tdLJp"},{"type":"text","value":" loads the image specified in the ","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"cgPkpMtSxx"},{"type":"inlineCode","value":"path","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"MS1ASTl3Ip"},{"type":"text","value":" string into the ","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"OuIxPxmM63"},{"type":"inlineCode","value":"data","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"yESmQvsFl4"},{"type":"text","value":" variable and the stores the width, height and number of colour channels into the appropriate variables","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"G5th50iXKF"}],"key":"OeedjvgVM2"}],"key":"yDIvv4LVlQ"}],"key":"VMAG0BbxV0"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"The texture we are using here is ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"acxSgyx7eq"},{"type":"strong","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"crate.jpg","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"rOAdkGcU1u"}],"key":"Ya8L4JovTK"},{"type":"text","value":" which is stored in the ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"r4YFLrLOVw"},{"type":"strong","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"assets/","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"f2uEmIYtDD"}],"key":"wtcp6er9PS"},{"type":"text","value":" folder and represents a side of a wooden crate.","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"Kh2IB6Ipal"}],"key":"LibbTLnZXT"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_crate-c9d911c1b43155044ca91bea5d69b5f7.jpg","alt":"The crate texture.","width":"300","data":{"altTextIsAutoGenerated":true},"key":"O3f20LvYk5","urlSource":"../_images/03_crate.jpg","urlOptimized":"/03_crate-c9d911c1b43155044ca91bea5d69b5f7.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"children":[{"type":"text","value":"The crate texture.","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"d7VhcE1nwx"}],"key":"QYMfBQW69s"}],"key":"ZWh32LUNQ1"}],"enumerator":"4","key":"B5enbNU82x"},{"type":"paragraph","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"After getting the texture data from the image file we tell WebGL we that have a texture. Enter the following code into your program.","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"RsghvY57P4"}],"key":"waE7xMAmOE"},{"type":"code","lang":"cpp","value":"// Specify 2D texture\nglTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);\nglGenerateMipmap(GL_TEXTURE_2D);","position":{"start":{"line":241,"column":1},"end":{"line":245,"column":1}},"key":"rPAVor4POV"},{"type":"paragraph","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"jCvLVTrvfy"},{"type":"inlineCode","value":"glTexImage2D()","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"baoRqWoOZN"},{"type":"text","value":" function tells WebGL we have a 2D texture which is contained in ","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"ITTYcGzfDs"},{"type":"inlineCode","value":"data","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"pEckUOMlHU"},{"type":"text","value":". ","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"HohZ55d42M"},{"type":"inlineCode","value":"GL_RGB","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"rc2761eM50"},{"type":"text","value":" is the format that specifies the number of colours in the texture. Here we are using a JPEG file so the colour each textel is represented by the RGB model. The ","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"sgjnX0RyEM"},{"type":"inlineCode","value":"glGenerateMipmap","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"cl39w2TxI2"},{"type":"text","value":" generates mipmaps for the texture (mipmaps are explained ","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"J2Yv79f4qG"},{"type":"crossReference","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"children":[{"type":"text","value":"below","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"dzQn1wDzqs"}],"identifier":"mipmaps-section","label":"mipmaps-section","kind":"heading","template":"{name}","resolved":true,"html_id":"mipmaps-section","key":"heWMdVqYsx"},{"type":"text","value":").","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"IKjp92XycG"}],"key":"ZjbJ3G42rF"},{"type":"paragraph","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"children":[{"type":"text","value":"Now that the texture data has been copied to the GPU we can free up memory by adding the following to the program.","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"key":"rUyNYB5Euj"}],"key":"zr231DRFw0"},{"type":"code","lang":"cpp","value":"// Free the image from the memory\nstbi_image_free(data);","position":{"start":{"line":251,"column":1},"end":{"line":254,"column":1}},"key":"oWYNNThukw"},{"type":"heading","depth":3,"position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"Texture coordinates","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"tlNdvVQtQB"}],"identifier":"texture-coordinates","label":"Texture coordinates","html_id":"texture-coordinates-1","implicit":true,"key":"kenuPZ9w4I"},{"type":"paragraph","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"So we have created a texture and told WebGL all about it. Now we need to specify how we want to use the texture. To do this for each of the vertices of the triangle we need to define the corresponding ","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"Jjyj5g5BMf"},{"type":"inlineMath","value":"(u, v)","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u, v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"PTFFtrJPRP"},{"type":"text","value":" texture coordinates. This is done in the same way as the triangle vertices, i.e., define an array containing the coordinates, create a buffer and copy the coordinates to this buffer.","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"FsFYILrhhC"}],"key":"Oc4zO4Cimu"},{"type":"paragraph","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"children":[{"type":"text","value":"Enter the following code after we defined the ","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"dk3k0VzARp"},{"type":"inlineCode","value":"vertices","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"fskEqx5x6F"},{"type":"text","value":" array (you may need to scroll up a bit).","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"pN8o5FiLtd"}],"key":"ztzrpAvShN"},{"type":"code","lang":"cpp","value":"// Define texture coordinates\nconst float uv[] = {\n    // u   v\n    0.0f, 0.0f,\n    1.0f, 0.0f,\n    0.5f, 1.0f\n};","position":{"start":{"line":262,"column":1},"end":{"line":270,"column":1}},"key":"ypMBmaugq9"},{"type":"paragraph","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"Here we have defined an array of float values called ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"d508uCxab7"},{"type":"inlineCode","value":"uv","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"DKOkD27Sh7"},{"type":"text","value":" and specified the texture coordinates so that the bottom-left triangle vertex is mapped to the texture coordinate ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"ISk3spucLJ"},{"type":"inlineMath","value":"(0, 0)","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"ISklerRX8Q"},{"type":"text","value":" in the bottom-left corner of the texture, the bottom-right vertex is mapped to ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"lpX2i9Qg7w"},{"type":"inlineMath","value":"(1,0)","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(1,0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"UUBKcgkdqJ"},{"type":"text","value":" in the bottom-right corner of the texture and the top vertex is mapped to ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"EGnwFAOlFo"},{"type":"inlineMath","value":"(0.5, 1)","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0.5, 1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>","key":"SX5NpoDl2a"},{"type":"text","value":" in the middle of the top edge of the texture.","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"mr3R76cuj0"}],"key":"ycfHjictoB"},{"type":"paragraph","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"children":[{"type":"text","value":"The buffer for the texture coordinates is created in the same was as for the triangle vertices. Enter the following code after the VBO was created.","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"key":"ZYmdqixVwg"}],"key":"FpKPXKD5Uw"},{"type":"code","lang":"cpp","value":"// Create texture buffer\nunsigned int uvBuffer;\nglGenBuffers(1, &uvBuffer);\nglBindBuffer(GL_ARRAY_BUFFER, uvBuffer);\nglBufferData(GL_ARRAY_BUFFER, sizeof(uv), uv, GL_STATIC_DRAW);","position":{"start":{"line":276,"column":1},"end":{"line":282,"column":1}},"key":"qLtCVApl2l"},{"type":"paragraph","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"children":[{"type":"text","value":"After we have created the texture (just before the render loop), add the following code to bind it to the VAO.","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"QrjKh4XXd4"}],"key":"irkXgLGvT1"},{"type":"code","lang":"cpp","value":"// Bind the texture to the VAO\nglBindTexture(GL_TEXTURE_2D, texture);\nglBindVertexArray(VAO);","position":{"start":{"line":286,"column":1},"end":{"line":290,"column":1}},"key":"CDJqoHbpRJ"},{"type":"paragraph","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"text","value":"Sending the texture coordinates to the GPU is done in the same way as for the VBO. Enter the following code after we send the VBO to the GPU (this is in the render loop so scroll down a bit).","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"qXA0nVgorz"}],"key":"JSPyRdbrSt"},{"type":"code","lang":"cpp","value":"// Send the UV buffer to the shaders\nglEnableVertexAttribArray(1);\nglBindBuffer(GL_ARRAY_BUFFER, uvBuffer);\nglVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 0, (void*)0);","position":{"start":{"line":294,"column":1},"end":{"line":299,"column":1}},"key":"nwzzcDBTDg"},{"type":"paragraph","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"Note that since each texture coordinates requires just 2 floats for ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"kIr5TnEAdK"},{"type":"inlineMath","value":"(u,v)","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u,v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"x0BiqrAd6Y"},{"type":"text","value":" instead of 3 for the vertex coordinates ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"QsozN7J7Xa"},{"type":"inlineMath","value":"(x,y,z)","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo separator=\"true\">,</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x,y,z)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"mclose\">)</span></span></span></span>","key":"vyb4jBjVSu"},{"type":"text","value":" the second argument in the ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"a6v1MA9Dwj"},{"type":"inlineCode","value":"glVertexAttribPointer()","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"XKrfnpaioz"},{"type":"text","value":" function is ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"KTkNHOAVpA"},{"type":"inlineCode","value":"2","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"Kq2ZaJrTnk"},{"type":"text","value":" instead of ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"HwTQlZZLRe"},{"type":"inlineCode","value":"3","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"z6HUbrLB05"},{"type":"text","value":".","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"iN3tOxeuNn"}],"key":"TlQvFP1cGu"},{"type":"heading","depth":3,"position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"children":[{"type":"text","value":"Shaders","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"qLxT8gk4du"}],"identifier":"shaders","label":"Shaders","html_id":"shaders-1","implicit":true,"key":"sRbnBh4ezP"},{"type":"heading","depth":4,"position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"children":[{"type":"text","value":"Vertex shader","position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"key":"MvIM2DCAWr"}],"identifier":"vertex-shader","label":"Vertex shader","html_id":"vertex-shader","implicit":true,"key":"GfnWKIwsQv"},{"type":"paragraph","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"children":[{"type":"text","value":"Recall that the ","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"s5iPObbrcs"},{"type":"link","url":"vertex-shader-section","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"children":[{"type":"text","value":"vertex shader","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"uxKG6Doz1v"}],"urlSource":"vertex-shader-section","key":"trXv4O39Wt"},{"type":"text","value":" deals with the vertex coordinates and is used by WebGL to calculate the coordinates of the fragment. So in addition to passing the ","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"ZiZc4OpxYF"},{"type":"inlineMath","value":"(x, y, z)","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo separator=\"true\">,</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x, y, z)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"mclose\">)</span></span></span></span>","key":"upYw1xjXku"},{"type":"text","value":" coordinates of the vertices we must also pass the ","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"qWYrsCcZsN"},{"type":"inlineMath","value":"(u, v)","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u, v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"TsGovgLGzt"},{"type":"text","value":" coordinates of the textels that correspond to the triangle vertices.","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"VWyX1hql60"}],"key":"bJsxp1M2E5"},{"type":"paragraph","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"Edit the ","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"W6x4wcyKRN"},{"type":"strong","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"vertexShader.glsl","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"uwsqmdAraI"}],"key":"p56Yz6rBaB"},{"type":"text","value":" file in the ","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"xcBdDM2lAM"},{"type":"strong","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"Lab03_Textures","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"msC6ufiLk9"}],"key":"pAoGChysOd"},{"type":"text","value":" project so that it looks like the following.","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"nr1zUFti2e"}],"key":"KGDTuy6LGY"},{"type":"code","lang":"glsl","value":"#version 330 core\n\n// Inputs\nlayout(location = 0) in vec3 position;\nlayout(location = 1) in vec2 uv;\n\n// Outputs\nout vec2 UV;\n\nvoid main()\n{\n    // Output vertex position\n    gl_Position = vec4(position, 1.0);\n    \n    // Output texture coordinates\n    UV = uv;\n}\n","position":{"start":{"line":311,"column":1},"end":{"line":330,"column":1}},"key":"inYFxk1dHl"},{"type":"paragraph","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"children":[{"type":"text","value":"You may notice some changes from our vertex shader from ","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"bAKQVuruH2"},{"type":"link","url":"vertex-shader-section","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"children":[{"type":"text","value":"2. Basic Shapes in WebGL","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"HMb8b4KeW6"}],"urlSource":"vertex-shader-section","key":"w0qhf2uxXc"},{"type":"text","value":". We now have a second input ","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"PNdN075lnL"},{"type":"inlineCode","value":"uv","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"vubA1qWPWo"},{"type":"text","value":" which is a 2-element vector which are the ","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"qjfzkhXGxl"},{"type":"inlineMath","value":"(u,v)","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u,v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"udvYUf2HrO"},{"type":"text","value":" texture coordinates which are outputted as the 2-element vector ","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"yCrriUdwxf"},{"type":"inlineCode","value":"UV","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"dKDIRSG2Xq"},{"type":"text","value":" (remember that the ","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"UDsRFTZRwP"},{"type":"inlineCode","value":"gl_Position","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"prs5ZpnnDj"},{"type":"text","value":" vector is passed to the fragment shader by default).","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"H2g2gfaU1x"}],"key":"UjqcWDoVQ5"},{"type":"heading","depth":4,"position":{"start":{"line":334,"column":1},"end":{"line":334,"column":1}},"children":[{"type":"text","value":"Fragment shader","position":{"start":{"line":334,"column":1},"end":{"line":334,"column":1}},"key":"fAnVgtnhw8"}],"identifier":"fragment-shader","label":"Fragment shader","html_id":"fragment-shader","implicit":true,"key":"cELRkaFq5z"},{"type":"paragraph","position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"children":[{"type":"text","value":"The fragment shader is where we need to retrieve the sample colour from the texture. Edit the ","position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"key":"LzaifN2vBl"},{"type":"strong","position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"children":[{"type":"text","value":"fragmentShader.glsl","position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"key":"nWKCTv3YPM"}],"key":"auiopGQ8rx"},{"type":"text","value":" file so that it looks like the following.","position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"key":"XcqhgdFJYm"}],"key":"h6xnXbVHRE"},{"type":"code","lang":"glsl","value":"#version 330 core\n\n// Input\nin vec2 UV;\n\n// Output\nout vec3 colour;\n\n// Uniforms\nuniform sampler2D textureMap;\n\nvoid main()\n{\n    colour = vec3(texture(textureMap, UV));\n}\n","position":{"start":{"line":338,"column":1},"end":{"line":355,"column":1}},"key":"jLKvD2LCJY"},{"type":"paragraph","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"Here we now have an input of the 2-element vector ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"eG0CgtNCsO"},{"type":"inlineCode","value":"uv","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"HnHp6pTCI0"},{"type":"text","value":" which has been outputted from the vertex shader. Since our texture is a 2D image then we use the ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"HG0erxmSKD"},{"type":"link","url":"https://www.khronos.org/WebGL/wiki/Sampler_(GLSL)","children":[{"type":"inlineCode","value":"sampler2D","key":"jfxXPujTij"}],"urlSource":"https://www.khronos.org/WebGL/wiki/Sampler_(GLSL)","key":"CIPTOW5WEz"},{"type":"text","value":" GLSL type to declare the uniform ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"smPGWsV1Lt"},{"type":"inlineCode","value":"textureMap","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"olYMMrlN6x"},{"type":"text","value":" (uniforms are explained ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"mnB6XqoqVe"},{"type":"crossReference","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"below","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"tM48mZsDX3"}],"identifier":"uniforms-section","label":"uniforms-section","kind":"heading","template":"{name}","resolved":true,"html_id":"uniforms-section","key":"kJbcS6OgCm"},{"type":"text","value":"). The colour of the fragment is taken from the texture using the ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"ouIXxSWQtd"},{"type":"inlineCode","value":"texture()","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"BRDvZG4Jgp"},{"type":"text","value":" function where the first argument is the name of the texture uniform and the second argument is the ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"gQncG9fnHe"},{"type":"inlineMath","value":"(u,v)","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u,v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"PMKy5WrYLv"},{"type":"text","value":" texture coordinates of the fragment.","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"OyRBfAqcdV"}],"key":"dy3z8bDTaO"},{"type":"paragraph","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"children":[{"type":"text","value":"Compile and run program and, after sending a prayer to the programming gods, you should be presented with your triangle which has now been textured using the crate texture.","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"key":"WqZGOQVFxN"}],"key":"hShu3pKIbB"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_texture_triangle-b32127daa42d10374f682581ea29f65d.png","width":"500","key":"mVs1UZ9Y8I","urlSource":"../_images/03_texture_triangle.png","urlOptimized":"/03_texture_triangle-b32127daa42d10374f682581ea29f65d.webp"}],"enumerator":"5","key":"fQ3qr7fPLQ"},{"type":"thematicBreak","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"sHivk012Hm"},{"type":"heading","depth":2,"position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"children":[{"type":"text","value":"Texture rectangle","position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"key":"K19XYrSmo3"}],"identifier":"texture-rectangle","label":"Texture rectangle","html_id":"texture-rectangle","implicit":true,"key":"wukE1BUcfO"},{"type":"paragraph","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"children":[{"type":"text","value":"Our texture triangle is great and all but doesn’t really look like a realistic object. Since the original texture is rectangular, let’s create a rectangle out of two triangles with the appropriate texture mapping.","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"moDAjw3nhd"}],"key":"ikOEpZS41v"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_rectangle-1e884f56e5ab72ac83a657fa1f94edd4.svg","alt":"A rectangle constructed using two triangles.","width":"450","data":{"altTextIsAutoGenerated":true},"key":"q3ukeAGU3H","urlSource":"../_images/03_rectangle.svg"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":374,"column":1},"end":{"line":374,"column":1}},"children":[{"type":"text","value":"A rectangle constructed using two triangles.","position":{"start":{"line":374,"column":1},"end":{"line":374,"column":1}},"key":"C7yjTDFcrx"}],"key":"Sn29cS3BEk"}],"key":"ORexRLg3X7"}],"enumerator":"6","key":"CVTa2Ld1RS"},{"type":"paragraph","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"children":[{"type":"text","value":"So the lower-right (blue) triangle has vertex coordinates ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"rl5nu1NvxW"},{"type":"inlineMath","value":"(-0.5, -0.5, 0)","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>−</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mo>−</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(-0.5, -0.5, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">−</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">−</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"ZQ7tCqwIux"},{"type":"text","value":", ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"kqtovDiFLe"},{"type":"inlineMath","value":"(0.5, -0.5, 0)","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mo>−</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0.5, -0.5, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">−</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"rDTYOwL6MD"},{"type":"text","value":" and ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"fXEN5xa3PB"},{"type":"inlineMath","value":"(0.5, 0.5, 0)","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0.5, 0.5, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"NSHCO3Vz3i"},{"type":"text","value":" and the upper-left (red) triangle has vertex coordinates ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"G8STfPPfQx"},{"type":"inlineMath","value":"(-0.5, -0.5, 0)","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>−</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mo>−</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(-0.5, -0.5, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">−</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">−</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"fSRcK79lA1"},{"type":"text","value":", ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"bkhZxM9xr5"},{"type":"inlineMath","value":"(0.5, 0.5, 0)","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0.5, 0.5, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"vszcbNWPuQ"},{"type":"text","value":" and ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"XaKowroSnx"},{"type":"inlineMath","value":"(-0.5, 0.5, 0)","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>−</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(-0.5, 0.5, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">−</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"MusVcTJrdJ"},{"type":"text","value":". Change the ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"nt7ulJMUwf"},{"type":"inlineCode","value":"vertices","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"wq4TAsDxm2"},{"type":"text","value":" and ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"usaGzG3sHr"},{"type":"inlineCode","value":"uv","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"tLSEjk4fDM"},{"type":"text","value":" arrays to the following.","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"bfMlm6DOgK"}],"key":"JqRV7fHjtL"},{"type":"code","lang":"cpp","value":"// Define vertex positions\nstatic const float vertices[] = {\n    // x     y     z\n    -0.5f, -0.5f, 0.0f, \n     0.5f, -0.5f, 0.0f,\n     0.5f,  0.5f, 0.0f, \n    -0.5f, -0.5f, 0.0f,\n     0.5f,  0.5f, 0.0f,\n    -0.5f,  0.5f, 0.0f\n};\n\n// Define texture coordinates\nstatic const float uv[] = {\n    // u    v\n    0.0f,  0.0f,    // triangle 1\n    1.0f,  0.0f,\n    1.0f,  1.0f,\n    0.0f,  0.0f,    // triangle 2\n    1.0f,  1.0f,\n    0.0f,  1.0f\n};","position":{"start":{"line":379,"column":1},"end":{"line":401,"column":1}},"key":"l9KMYsRwMA"},{"type":"paragraph","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"text","value":"Compile and run the program, and you should be presented with the more realistic image in ","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"jMhGUaRo0X"},{"type":"crossReference","kind":"figure","identifier":"texture-rectangle-figure","label":"texture-rectangle-figure","children":[{"type":"text","value":"Figure ","key":"vPkUHsi6qh"},{"type":"text","value":"7","key":"r3WmvZL9Qo"}],"template":"Figure %s","enumerator":"7","resolved":true,"html_id":"texture-rectangle-figure","key":"YAm5v6Zhsv"},{"type":"text","value":".","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"UfDUjt1E6S"}],"key":"Dc80ZjDWn1"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_texture_rectangle-0f229f03948c1e13a347c76766b289d1.png","alt":"Texture mapped onto two triangles that form a rectangle.","width":"500","data":{"altTextIsAutoGenerated":true},"key":"z4li8UqkpN","urlSource":"../_images/03_texture_rectangle.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":409,"column":1},"end":{"line":409,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"texture-rectangle-figure","identifier":"texture-rectangle-figure","html_id":"texture-rectangle-figure","enumerator":"7","children":[{"type":"text","value":"Figure ","key":"UaVSOpupcb"},{"type":"text","value":"7","key":"ntWxhNbcez"},{"type":"text","value":":","key":"mYCtnqQZlv"}],"template":"Figure %s:","key":"JDkFtPrsig"},{"type":"text","value":"Texture mapped onto two triangles that form a rectangle.","position":{"start":{"line":409,"column":1},"end":{"line":409,"column":1}},"key":"d3GQMg8FIm"}],"key":"AD0ZVx0tkC"}],"key":"cnzbLhj5qN"}],"label":"texture-rectangle-figure","identifier":"texture-rectangle-figure","enumerator":"7","html_id":"texture-rectangle-figure","key":"iUYvrRY0sA"},{"type":"heading","depth":3,"position":{"start":{"line":412,"column":1},"end":{"line":412,"column":1}},"children":[{"type":"text","value":"Element Buffer Objects (EBO)","position":{"start":{"line":412,"column":1},"end":{"line":412,"column":1}},"key":"odBMPTDwhD"}],"identifier":"element-buffer-objects-ebo","label":"Element Buffer Objects (EBO)","html_id":"element-buffer-objects-ebo","implicit":true,"key":"MJAP9cyfEo"},{"type":"paragraph","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"children":[{"type":"text","value":"Our rectangle is defined using 6 sets of ","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"key":"TPuEtiCDel"},{"type":"inlineMath","value":"(x,y,z)","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo separator=\"true\">,</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x,y,z)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"mclose\">)</span></span></span></span>","key":"vfrVwxE1BC"},{"type":"text","value":" coordinates for the 2 triangles, but a rectangle only has 4 vertices. This means we are using 2 extra coordinates than we really need to as both of the triangles share the vertices at ","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"key":"sHCNEep77n"},{"type":"inlineMath","value":"(-0.5, -0.5, 0)","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>−</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mo>−</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(-0.5, -0.5, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">−</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">−</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"BnTyuPGq8K"},{"type":"text","value":" and ","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"key":"JR3NQG7pAC"},{"type":"inlineMath","value":"(0.5, 0.5, 0)","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0.5, 0.5, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"ZDSJQlsDZy"},{"type":"text","value":". This isn’t too bad for our simple rectangle example but for more sophisticated scenes that use thousands of triangles it can be inefficient.","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"key":"cHc2Z2cpgQ"}],"key":"bUBc3BJvkT"},{"type":"paragraph","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"To improve on this we can use an ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"E95wqDgTna"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Element Buffer Object (EBO)","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"GDvxdCBJtg"}],"key":"jks8Z129Oa"},{"type":"text","value":" that contains ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"Q56jmtnl8p"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"indices","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"cDrU7JhOGA"}],"key":"ag5wUBuppP"},{"type":"text","value":" that map a vertex of the rectangle to the ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"bikllL1Q6H"},{"type":"inlineCode","value":"vertices","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"D7H9a9UG5l"},{"type":"text","value":" array. Consider ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"wJCKcKstrz"},{"type":"crossReference","kind":"figure","identifier":"rectangle-indices-figure","label":"rectangle-indices-figure","children":[{"type":"text","value":"Figure ","key":"zrNJiIY8s0"},{"type":"text","value":"8","key":"nu8i1YBeAm"}],"template":"Figure %s","enumerator":"8","resolved":true,"html_id":"rectangle-indices-figure","key":"ndI64DM7Wc"},{"type":"text","value":" that shows a rectangle drawn using two triangles. The lower-right triangle is formed using the vertices with indices 0, 1 and 2 and the upper-left triangle is formed using vertices with indices 0, 2 and 3.","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"pgy5VdjLYN"}],"key":"bdz7zu2Ej0"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_indices-3b16f21402b7828049466a9af42c674b.svg","alt":"The mapping of indices to the rectangle vertices.","width":"200","data":{"altTextIsAutoGenerated":true},"key":"IMSj4fjyNX","urlSource":"../_images/03_indices.svg"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"rectangle-indices-figure","identifier":"rectangle-indices-figure","html_id":"rectangle-indices-figure","enumerator":"8","children":[{"type":"text","value":"Figure ","key":"c9Y79A6NHR"},{"type":"text","value":"8","key":"HZqxw0wrka"},{"type":"text","value":":","key":"cGaiVs4koU"}],"template":"Figure %s:","key":"N4WJKU9wyL"},{"type":"text","value":"The mapping of indices to the rectangle vertices.","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"key":"iKKJneExaW"}],"key":"Y1bo9EufZx"}],"key":"y5Jz6OrzLt"}],"label":"rectangle-indices-figure","identifier":"rectangle-indices-figure","enumerator":"8","html_id":"rectangle-indices-figure","key":"LUdQM04Xzv"},{"type":"paragraph","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"children":[{"type":"text","value":"Comment out the code used to define the ","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"DH9tuWLYlD"},{"type":"inlineCode","value":"vertices","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"hSChte9Hbt"},{"type":"text","value":" and ","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"HDE47SfChR"},{"type":"inlineCode","value":"uv","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"pgNl7d3k1g"},{"type":"text","value":" arrays and enter the following code.","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"Jil2LREUSR"}],"key":"kq93RxWWUL"},{"type":"code","lang":"cpp","value":"// Define vertex positions\nstatic const float vertices[] = {\n    // x     y     z      index\n    -0.5f, -0.5f, 0.0f,  // 0       3 -- 2\n     0.5f, -0.5f, 0.0f,  // 1       |  / |  \n     0.5f,  0.5f, 0.0f,  // 2       | /  |\n    -0.5f,  0.5f, 0.0f   // 3       0 -- 1\n};\n\n// Define texture coordinates\nstatic const float uv[] = {\n    // u    v      index\n    0.0f,  0.0f,  // 0\n    1.0f,  0.0f,  // 1\n    1.0f,  1.0f,  // 2\n    0.0f,  1.0f,  // 3\n};\n\n// Define indices\nstatic const unsigned int indices[] = {\n    0, 1, 2,  // lower-right triangle\n    0, 2, 3   // upper-left triangle\n};","position":{"start":{"line":427,"column":1},"end":{"line":451,"column":1}},"key":"yatEfQ5eKR"},{"type":"paragraph","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"text","value":"As with the other buffer objects we need to create a buffer for the indices, bind it and copy the data across. Enter the following code after we’ve created the texture buffer.","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"Ox1nf9JweS"}],"key":"eNStSxyexl"},{"type":"code","lang":"cpp","value":"// Create Element Buffer Object (EBO)\nunsigned int EBO;\nglGenBuffers(1, &EBO);\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);\nglBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);","position":{"start":{"line":455,"column":1},"end":{"line":461,"column":1}},"key":"Ko7cINP4qL"},{"type":"paragraph","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"children":[{"type":"text","value":"This is similar to the code used to create the other buffer objects with the exception we are creating a ","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"zLS1UJdRRo"},{"type":"inlineCode","value":"GL_ELEMENT_ARRAY_BUFFER","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"xJwga2M8lj"},{"type":"text","value":" instead of a ","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"JlfluUCz9e"},{"type":"inlineCode","value":"GL_ARRAY_BUFFER","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"yquhUw550W"},{"type":"text","value":". The last change we need to make in order to use our EBO is to change the function used to draw the triangles from ","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"JVpBENAkeA"},{"type":"inlineCode","value":"glDrawArrays()","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"TzoFhQCGzF"},{"type":"text","value":" to ","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"tBqUjexhrz"},{"type":"inlineCode","value":"glDrawElements()","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"L3It5lTptu"}],"key":"dnVDkO9fyt"},{"type":"code","lang":"cpp","value":"// Draw the triangles\nglDrawElements(GL_TRIANGLES, sizeof(indices) / sizeof(unsigned int), GL_UNSIGNED_INT, 0);\n\nglDisableVertexAttribArray(0);\nglDisableVertexAttribArray(1);","position":{"start":{"line":465,"column":1},"end":{"line":471,"column":1}},"key":"BCOpIW2F6V"},{"type":"paragraph","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"children":[{"type":"text","value":"Make this change, compile and run the program, and you should see the window from ","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"key":"lG4VF4xFgM"},{"type":"crossReference","kind":"figure","identifier":"texture-rectangle-figure","label":"texture-rectangle-figure","children":[{"type":"text","value":"Figure ","key":"vbdDCfeHzF"},{"type":"text","value":"7","key":"chLJxPWXyi"}],"template":"Figure %s","enumerator":"7","resolved":true,"html_id":"texture-rectangle-figure","key":"Cd1jfQR6i7"},{"type":"text","value":". You may be thinking you’ve gone to all of that trouble only for the rectangle to look exactly the same. Well, now we are using fewer floats in the ","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"key":"Fx5fnoYPPC"},{"type":"inlineCode","value":"vertices","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"key":"PZqhuHTX5x"},{"type":"text","value":" array, and we can now use EBOs to draw more sophisticated shapes and 3D models.","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"key":"nZRBEPbLqV"}],"key":"zM62aVpESN"},{"type":"thematicBreak","position":{"start":{"line":475,"column":1},"end":{"line":475,"column":1}},"key":"NqxretuLPh"},{"type":"heading","depth":2,"position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"children":[{"type":"text","value":"Texture wrapping and filtering","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"lGfdZccxon"}],"identifier":"texture-wrapping-and-filtering","label":"Texture wrapping and filtering","html_id":"texture-wrapping-and-filtering","implicit":true,"key":"lOsXkU0Nhd"},{"type":"heading","depth":3,"position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Texture wrapping","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"UqvjCA1Znl"}],"identifier":"texture-wrapping","label":"Texture wrapping","html_id":"texture-wrapping","implicit":true,"key":"jBm4S8Lb6G"},{"type":"paragraph","position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"text","value":"In our examples above, all the texture coordinates have been in the range from 0 to 1. What happens if we use textures coordinates outside this range? To test this we are going to change our texture to something less symmetrical (you will see why in a minute). Change the ","position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"key":"i1vTS14U8c"},{"type":"inlineCode","value":"path","position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"key":"fLlD99yWcO"},{"type":"text","value":" variable to the following","position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"key":"UZfzC5MOL6"}],"key":"fUx3VFNIYg"},{"type":"code","lang":"cpp","value":"// Load texture image from file\nconst char *path = \"../assets/mario.png\";","position":{"start":{"line":483,"column":1},"end":{"line":486,"column":1}},"key":"cErxuwjjk6"},{"type":"paragraph","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"text","value":"PNG (Portable Network Graphics) files use the RGBA colour model which is the standard RGB model with an addition Alpha value that determines the opacity of the colours. We need to let WebGL know that our texture is defined using RGBA so change instances ","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"cUU6NG8yBh"},{"type":"inlineCode","value":"GL_RGB","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"Wi1FPhYV0B"},{"type":"text","value":" in the ","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"N9ZMJxc3o6"},{"type":"inlineCode","value":"glTexImage2D()","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"EFBP89YMag"},{"type":"text","value":" function to ","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"yFeyChjrL0"},{"type":"inlineCode","value":"GL_RGBA","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"IhOzeplFa5"},{"type":"text","value":", i.e.,","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"gLB6C3ZrL6"}],"key":"SeAA0CgqxU"},{"type":"code","lang":"cpp","value":"// Specify 2D texture\nglTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, width, height, 0, GL_RGBA, GL_UNSIGNED_BYTE, data);","position":{"start":{"line":490,"column":1},"end":{"line":493,"column":1}},"key":"VmG3IWBqvy"},{"type":"paragraph","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Compile and run the program, and you should be presented with a (hopefully) familiar face.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"NFJLl4ep6G"}],"key":"Gep5YdkRWD"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_mario_rectangle-c63ca9b34eece8ac77c444df6e9b8c35.png","alt":"Its a me, Mario!","width":"500","data":{"altTextIsAutoGenerated":true},"key":"MdaArySdsy","urlSource":"../_images/03_mario_rectangle.png","urlOptimized":"/03_mario_rectangle-c63ca9b34eece8ac77c444df6e9b8c35.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":501,"column":1},"end":{"line":501,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"mario-rectangle-figure","identifier":"mario-rectangle-figure","html_id":"mario-rectangle-figure","enumerator":"9","children":[{"type":"text","value":"Figure ","key":"E1Pe1XULsI"},{"type":"text","value":"9","key":"uPDlxaIecv"},{"type":"text","value":":","key":"XFkguF5hiR"}],"template":"Figure %s:","key":"OhBLyO2xP7"},{"type":"text","value":"Its a me, Mario!","position":{"start":{"line":501,"column":1},"end":{"line":501,"column":1}},"key":"Mi80aXFWL1"}],"key":"oPcvqAzHbU"}],"key":"YmwVUvas3r"}],"label":"mario-rectangle-figure","identifier":"mario-rectangle-figure","enumerator":"9","html_id":"mario-rectangle-figure","key":"aUR8msVYZb"},{"type":"paragraph","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"children":[{"type":"text","value":"Now we can experiment with specifying texture coordinates outside the range 0 to 1. Edit the ","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"PTqAOORUF8"},{"type":"inlineCode","value":"uv","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"JIcYuW2fdG"},{"type":"text","value":" array to change all the ","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"M3XhyVgnk7"},{"type":"inlineCode","value":"1.0f","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"nU2Z1e86Cz"},{"type":"text","value":" values to ","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"tT4GwsDQG6"},{"type":"inlineCode","value":"2.0f","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"T3sTpAneNj"},{"type":"text","value":". Compile and run the program, and you should see the image shown in ","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"FMIyrZJzXw"},{"type":"crossReference","kind":"figure","identifier":"gl_repeat-figure","label":"GL_REPEAT-figure","children":[{"type":"text","value":"Figure ","key":"nI4ru8vFR1"},{"type":"text","value":"10","key":"BMPB6MNBr9"}],"template":"Figure %s","enumerator":"10","resolved":true,"html_id":"gl-repeat-figure","key":"g0l6ZCyoeX"}],"key":"vHhTxbP2Zi"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_GL_REPEAT-ec4161e72375260a12dbd7032a0d6c94.png","alt":"Texture wrapping using GL_REPEAT.","width":"500","data":{"altTextIsAutoGenerated":true},"key":"E7gs9ngEvY","urlSource":"../_images/03_GL_REPEAT.png","urlOptimized":"/03_GL_REPEAT-ec4161e72375260a12dbd7032a0d6c94.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":510,"column":1},"end":{"line":510,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"GL_REPEAT-figure","identifier":"gl_repeat-figure","html_id":"gl-repeat-figure","enumerator":"10","children":[{"type":"text","value":"Figure ","key":"etZzlHqGIt"},{"type":"text","value":"10","key":"CRjLZKApPx"},{"type":"text","value":":","key":"RJZg17CP0s"}],"template":"Figure %s:","key":"bVRimtDBuz"},{"type":"text","value":"Texture wrapping using ","position":{"start":{"line":510,"column":1},"end":{"line":510,"column":1}},"key":"euH8A5Lj10"},{"type":"inlineCode","value":"GL_REPEAT","position":{"start":{"line":510,"column":1},"end":{"line":510,"column":1}},"key":"qa8GBDSTVn"},{"type":"text","value":".","position":{"start":{"line":510,"column":1},"end":{"line":510,"column":1}},"key":"djss2sQ7Tn"}],"key":"wSBWjcWcRU"}],"key":"szqq4bExqz"}],"label":"GL_REPEAT-figure","identifier":"gl_repeat-figure","enumerator":"10","html_id":"gl-repeat-figure","key":"k1ev8X3nOT"},{"type":"paragraph","position":{"start":{"line":513,"column":1},"end":{"line":513,"column":1}},"children":[{"type":"text","value":"Here WebGL has used ","position":{"start":{"line":513,"column":1},"end":{"line":513,"column":1}},"key":"yKHXrSdDBc"},{"type":"strong","position":{"start":{"line":513,"column":1},"end":{"line":513,"column":1}},"children":[{"type":"text","value":"texture wrapping","position":{"start":{"line":513,"column":1},"end":{"line":513,"column":1}},"key":"XaCIZAs0hO"}],"key":"sXpxHqo2L3"},{"type":"text","value":" to repeat the texture over the rectangle. This can be useful if we want to use a small texture containing a pattern over a larger polygon, e.g., think of brick wall where the pattern repeats itself.","position":{"start":{"line":513,"column":1},"end":{"line":513,"column":1}},"key":"o8l0OIe2VB"}],"key":"xmdOAKONLB"},{"type":"paragraph","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"WebGL offers other options for texture wrapping;","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"ePJ09CCnhr"}],"key":"DeHgQpHHYf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":517,"column":1},"end":{"line":521,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":517,"column":1},"end":{"line":517,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"GL_REPEAT","position":{"start":{"line":517,"column":1},"end":{"line":517,"column":1}},"key":"GSGf6rSXNx"},{"type":"text","value":" - the texture repeats over the fragment (default);","position":{"start":{"line":517,"column":1},"end":{"line":517,"column":1}},"key":"xPw4DBoaTW"}],"key":"B7mefoAfqK"}],"key":"ty6JdQETG0"},{"type":"listItem","spread":true,"position":{"start":{"line":518,"column":1},"end":{"line":518,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"GL_MIRRORED_REPEAT","position":{"start":{"line":518,"column":1},"end":{"line":518,"column":1}},"key":"q7iacELoL3"},{"type":"text","value":" - same as ","position":{"start":{"line":518,"column":1},"end":{"line":518,"column":1}},"key":"X603ouGTdP"},{"type":"inlineCode","value":"GL_REPEAT","position":{"start":{"line":518,"column":1},"end":{"line":518,"column":1}},"key":"qD5HFvB5Il"},{"type":"text","value":" but the texture is mirrored with each repeat;","position":{"start":{"line":518,"column":1},"end":{"line":518,"column":1}},"key":"Qc85B7KCWI"}],"key":"xN5VzyP2n0"}],"key":"g37tagBrMp"},{"type":"listItem","spread":true,"position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"GL_CLAMP_TO_EDGE","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"zxBFTux475"},{"type":"text","value":" - clamps the texture coordinates to between 0 and 1, coordinates outside this range are clamped to the edge so that the textels on the edge are stretched to the edge of the fragment;","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"nVeWWfJKj3"}],"key":"wssJScAfgX"}],"key":"wLmGLjcw7I"},{"type":"listItem","spread":true,"position":{"start":{"line":520,"column":1},"end":{"line":521,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"GL_CLAMP_TO_BORDER","position":{"start":{"line":520,"column":1},"end":{"line":520,"column":1}},"key":"nwzz8syZGf"},{"type":"text","value":" - coordinates outside the range ","position":{"start":{"line":520,"column":1},"end":{"line":520,"column":1}},"key":"nI0dhHi2i7"},{"type":"inlineMath","value":"(0,0)","position":{"start":{"line":520,"column":1},"end":{"line":520,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0,0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>","key":"bNaMktf5TV"},{"type":"text","value":" to ","position":{"start":{"line":520,"column":1},"end":{"line":520,"column":1}},"key":"Avo0nKlSZj"},{"type":"inlineMath","value":"(1,1)","position":{"start":{"line":520,"column":1},"end":{"line":520,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(1,1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>","key":"oWRiopcwmL"},{"type":"text","value":" are given a used defined border colour.","position":{"start":{"line":520,"column":1},"end":{"line":520,"column":1}},"key":"u9jrjlvA1h"}],"key":"GlItTy1Enp"}],"key":"dHQ9wFIjir"}],"key":"XnqJRoYNbZ"},{"type":"paragraph","position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"children":[{"type":"text","value":"We can specify the texture wrapping using the ","position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"key":"MCU9Km0P2g"},{"type":"inlineCode","value":"glTexParameteri()","position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"key":"u9oFo3ubdF"},{"type":"text","value":" function. To apply ","position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"key":"qJIikvS7Ce"},{"type":"inlineCode","value":"GL_MIRRORED_REPEAT","position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"key":"I6Z1BKoMbe"},{"type":"text","value":" add the following code after the texture as been specified.","position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"key":"CY3clsgk0H"}],"key":"d1IScUboOp"},{"type":"code","lang":"cpp","value":"// Set texture wrapping options\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_MIRRORED_REPEAT);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_MIRRORED_REPEAT);","position":{"start":{"line":524,"column":1},"end":{"line":528,"column":1}},"key":"d65cOXCNKK"},{"type":"paragraph","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"children":[{"type":"text","value":"Here we have specified the wrapping in the horizontal (","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"EiNNO27tRU"},{"type":"inlineCode","value":"S","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"SBh59S2O29"},{"type":"text","value":") and vertical (","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"Vrkif11UgT"},{"type":"inlineCode","value":"T","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"Pm00ZDtq7n"},{"type":"text","value":") directions (some people use ","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"KLaCSwQlF5"},{"type":"inlineMath","value":"(s,t)","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo separator=\"true\">,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(s,t)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">s</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span>","key":"BawOG4eDvS"},{"type":"text","value":" for the vertex coordinates instead of ","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"KBSq1g4Vc4"},{"type":"inlineMath","value":"(u,v)","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u,v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"RR2b5TlJr0"},{"type":"text","value":") to ","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"Ko4xuMZwuA"},{"type":"inlineCode","value":"GL_MIRRORED_REPEAT","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"S5Ac8ZE6Zh"},{"type":"text","value":". Compile and run the program, and you should see the image shown in ","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"dlYY4sUb7J"},{"type":"crossReference","kind":"figure","identifier":"gl_mirrored_repeat-figure","label":"GL_MIRRORED_REPEAT-figure","children":[{"type":"text","value":"Figure ","key":"wjo4pUMiua"},{"type":"text","value":"11","key":"Bot66LAsDM"}],"template":"Figure %s","enumerator":"11","resolved":true,"html_id":"gl-mirrored-repeat-figure","key":"Wu0oCJ0X6i"},{"type":"text","value":".","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"dWBVOd63dk"}],"key":"FkMfiX7pEn"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_GL_MIRRORED_REPEA-0c17fb2314782773f243adf907e44a59.png","alt":"Texture wrapping using GL_MIRRORED_REPEAT.","width":"500","data":{"altTextIsAutoGenerated":true},"key":"bnkmUhyuWu","urlSource":"../_images/03_GL_MIRRORED_REPEAT.png","urlOptimized":"/03_GL_MIRRORED_REPEA-0c17fb2314782773f243adf907e44a59.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":536,"column":1},"end":{"line":536,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"GL_MIRRORED_REPEAT-figure","identifier":"gl_mirrored_repeat-figure","html_id":"gl-mirrored-repeat-figure","enumerator":"11","children":[{"type":"text","value":"Figure ","key":"Yjh1rCj2Gq"},{"type":"text","value":"11","key":"uaFR71XLyo"},{"type":"text","value":":","key":"exzgE3510o"}],"template":"Figure %s:","key":"rGQpR61HCU"},{"type":"text","value":"Texture wrapping using ","position":{"start":{"line":536,"column":1},"end":{"line":536,"column":1}},"key":"hUArVnBjeN"},{"type":"inlineCode","value":"GL_MIRRORED_REPEAT","position":{"start":{"line":536,"column":1},"end":{"line":536,"column":1}},"key":"oH4oNjurqx"},{"type":"text","value":".","position":{"start":{"line":536,"column":1},"end":{"line":536,"column":1}},"key":"ns8UNNhBCz"}],"key":"BebnoiusSD"}],"key":"Q0TmVh6ozv"}],"label":"GL_MIRRORED_REPEAT-figure","identifier":"gl_mirrored_repeat-figure","enumerator":"11","html_id":"gl-mirrored-repeat-figure","key":"oHpyBkLlNY"},{"type":"paragraph","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"text","value":"Using ","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"Pxrj0dfM9P"},{"type":"inlineCode","value":"GL_CLAMP_TO_EDGE","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"uSkuMdv6Jb"},{"type":"text","value":" and ","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"NxMWqpL0KY"},{"type":"inlineCode","value":"GL_CLAMP_TO_BORDER","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"P8udF33JTN"},{"type":"text","value":" instead results in the images shown in ","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"isCuAmF0iG"},{"type":"crossReference","kind":"figure","identifier":"gl_clamp_to_edge-figure","label":"GL_CLAMP_TO_EDGE-figure","children":[{"type":"text","value":"Figure ","key":"QeJFHWtkY0"},{"type":"text","value":"12","key":"abBxdtFKdn"}],"template":"Figure %s","enumerator":"12","resolved":true,"html_id":"gl-clamp-to-edge-figure","key":"fhMLpjV6Oa"},{"type":"text","value":" and ","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"DkCE3QVzBl"},{"type":"crossReference","kind":"figure","identifier":"gl_clamp_to_edge-figure","label":"GL_CLAMP_TO_EDGE-figure","children":[{"type":"text","value":"Figure ","key":"Crb2ADwbd4"},{"type":"text","value":"12","key":"LgYIMFVwgY"}],"template":"Figure %s","enumerator":"12","resolved":true,"html_id":"gl-clamp-to-edge-figure","key":"Z6cXXpCRO2"},{"type":"text","value":".","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"gK1vwnUBcR"}],"key":"tviyztGdPb"},{"type":"grid","columns":[1,2,2,3],"children":[{"type":"div","children":[{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_GL_CLAMP_TO_EDGE-7e00c93431f336938a8b8be26d8b49a9.png","alt":"Texture wrapping using GL_CLAMP_TO_EDGE.","data":{"altTextIsAutoGenerated":true},"key":"P6GgI36MS4","urlSource":"../_images/03_GL_CLAMP_TO_EDGE.png","urlOptimized":"/03_GL_CLAMP_TO_EDGE-7e00c93431f336938a8b8be26d8b49a9.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"GL_CLAMP_TO_EDGE-figure","identifier":"gl_clamp_to_edge-figure","html_id":"gl-clamp-to-edge-figure","enumerator":"12","children":[{"type":"text","value":"Figure ","key":"m6AHiquC7l"},{"type":"text","value":"12","key":"nR8jT9U44F"},{"type":"text","value":":","key":"AOXEnl1wO0"}],"template":"Figure %s:","key":"OxxsM7VLoZ"},{"type":"text","value":"Texture wrapping using ","position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"key":"WYSzLhzitV"},{"type":"inlineCode","value":"GL_CLAMP_TO_EDGE","position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"key":"Ilr9DdEOTS"},{"type":"text","value":".","position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"key":"mambRvoEzr"}],"key":"PjQ0NBTWHx"}],"key":"AOjqtPtsmM"}],"label":"GL_CLAMP_TO_EDGE-figure","identifier":"gl_clamp_to_edge-figure","enumerator":"12","html_id":"gl-clamp-to-edge-figure","key":"nhCn4qXHXY"}],"key":"nJcRo2U3bY"},{"type":"div","children":[{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_GL_CLAMP_TO_BORDE-265ddfafc3ab243858c09e1c3e81897b.png","alt":"Texture wrapping using GL_CLAMP_TO_BORDER.","data":{"altTextIsAutoGenerated":true},"key":"lsQfUQ8zQ1","urlSource":"../_images/03_GL_CLAMP_TO_BORDER.png","urlOptimized":"/03_GL_CLAMP_TO_BORDE-265ddfafc3ab243858c09e1c3e81897b.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":553,"column":1},"end":{"line":553,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"GL_CLAMP_TO_BORDER-figure","identifier":"gl_clamp_to_border-figure","html_id":"gl-clamp-to-border-figure","enumerator":"13","children":[{"type":"text","value":"Figure ","key":"vQOCzlEOBr"},{"type":"text","value":"13","key":"Ll19xILLxV"},{"type":"text","value":":","key":"hmYaoBHIh2"}],"template":"Figure %s:","key":"RztHDTNg9g"},{"type":"text","value":"Texture wrapping using ","position":{"start":{"line":553,"column":1},"end":{"line":553,"column":1}},"key":"Tx89nnRhZk"},{"type":"inlineCode","value":"GL_CLAMP_TO_BORDER","position":{"start":{"line":553,"column":1},"end":{"line":553,"column":1}},"key":"sBOgALnhmW"},{"type":"text","value":".","position":{"start":{"line":553,"column":1},"end":{"line":553,"column":1}},"key":"udlIooQK83"}],"key":"xDkXYJ7nHp"}],"key":"l8dKeHMDkB"}],"label":"GL_CLAMP_TO_BORDER-figure","identifier":"gl_clamp_to_border-figure","enumerator":"13","html_id":"gl-clamp-to-border-figure","key":"PbScns5yqo"}],"key":"KVuUaM3giz"}],"key":"hJ3dj7pmhf"},{"type":"heading","depth":3,"position":{"start":{"line":560,"column":1},"end":{"line":560,"column":1}},"children":[{"type":"text","value":"Texture filtering","position":{"start":{"line":560,"column":1},"end":{"line":560,"column":1}},"key":"QEncLrdV8q"}],"label":"texture-filtering-section","identifier":"texture-filtering-section","html_id":"texture-filtering-section","key":"gYryE4E00Y"},{"type":"paragraph","position":{"start":{"line":562,"column":1},"end":{"line":562,"column":1}},"children":[{"type":"strong","position":{"start":{"line":562,"column":1},"end":{"line":562,"column":1}},"children":[{"type":"text","value":"Texture filtering","position":{"start":{"line":562,"column":1},"end":{"line":562,"column":1}},"key":"Uj3OBPxTWG"}],"key":"MWPexDyeAw"},{"type":"text","value":" is method of determining the colour of the fragment, known as the ","position":{"start":{"line":562,"column":1},"end":{"line":562,"column":1}},"key":"zCJKhPIA1l"},{"type":"strong","position":{"start":{"line":562,"column":1},"end":{"line":562,"column":1}},"children":[{"type":"text","value":"colour sample","position":{"start":{"line":562,"column":1},"end":{"line":562,"column":1}},"key":"UkUpZ0oXNF"}],"key":"YVeNN8f64n"},{"type":"text","value":", from the texture. WebGL maps the coordinates of the fragment to the texture coordinates and in most cases this will not align exactly to a textel centre, so what does WebGL do? WebGL provides two main options : nearest-neighbour interpolation and bilinear interpolation.","position":{"start":{"line":562,"column":1},"end":{"line":562,"column":1}},"key":"FAFFoEvxsc"}],"key":"nCJAExrHbU"},{"type":"heading","depth":4,"position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"children":[{"type":"text","value":"Nearest neighbour interpolation","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"PJaDGsBZes"}],"identifier":"nearest-neighbour-interpolation","label":"Nearest neighbour interpolation","html_id":"nearest-neighbour-interpolation","implicit":true,"key":"wAAHRdprQJ"},{"type":"paragraph","position":{"start":{"line":566,"column":1},"end":{"line":566,"column":1}},"children":[{"type":"strong","position":{"start":{"line":566,"column":1},"end":{"line":566,"column":1}},"children":[{"type":"text","value":"Nearest neighbour interpolation","position":{"start":{"line":566,"column":1},"end":{"line":566,"column":1}},"key":"TYvvrlPh0w"}],"key":"ohTQeJW2wZ"},{"type":"text","value":" is the default in WebGL uses the colour of the nearest textel to the texture coordinates as the colour sample. This is illustrated in the diagram shown in ","position":{"start":{"line":566,"column":1},"end":{"line":566,"column":1}},"key":"Y2Foc3vOgl"},{"type":"crossReference","kind":"figure","identifier":"nearest-neighbour-interpolation-figure","label":"nearest-neighbour-interpolation-figure","children":[{"type":"text","value":"Figure ","key":"XED6jNYwW3"},{"type":"text","value":"14","key":"wBWbrfXHOQ"}],"template":"Figure %s","enumerator":"14","resolved":true,"html_id":"nearest-neighbour-interpolation-figure","key":"hES9ewAn5l"},{"type":"text","value":" where the texture coordinates represented by the black circle is mapped in a region on the texture with four neighbouring textels with the textel centres represented by the crosses. The texture coordinates are closest to the centre of the textel in the top-left so the colour of that textel is used for the colour sample.","position":{"start":{"line":566,"column":1},"end":{"line":566,"column":1}},"key":"UvFKfumj7n"}],"key":"QTQzPDGi4c"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_nearest_neighbour-7869aba996764496cefa0e5254138cfe.svg","alt":"Nearest neighbour interpolation.","width":"500","data":{"altTextIsAutoGenerated":true},"key":"OswQw61S5j","urlSource":"../_images/03_nearest_neighbour.svg"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"nearest-neighbour-interpolation-figure","identifier":"nearest-neighbour-interpolation-figure","html_id":"nearest-neighbour-interpolation-figure","enumerator":"14","children":[{"type":"text","value":"Figure ","key":"lfbQQPdQs2"},{"type":"text","value":"14","key":"AbE4MxTpLz"},{"type":"text","value":":","key":"tH1ue1ozpn"}],"template":"Figure %s:","key":"yFfzNimYLA"},{"type":"text","value":"Nearest neighbour interpolation.","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"key":"LaA8V34Ssb"}],"key":"QqhwCJ9lFS"}],"key":"nvXbIepdCk"}],"label":"nearest-neighbour-interpolation-figure","identifier":"nearest-neighbour-interpolation-figure","enumerator":"14","html_id":"nearest-neighbour-interpolation-figure","key":"Na0ktXLOnu"},{"type":"paragraph","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"children":[{"type":"text","value":"To apply texture filtering we specify the type of interpolation we want in using ","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"key":"eVWP8Lt3O1"},{"type":"inlineCode","value":"glTexParameteri()","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"key":"G0zaBHrCVH"},{"type":"text","value":" functions. To apply nearest neighbour interpolation add the following code to your program.","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"key":"DxH3QrL1fJ"}],"key":"LHyDGHaYi5"},{"type":"code","lang":"cpp","value":"glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);","position":{"start":{"line":577,"column":1},"end":{"line":580,"column":1}},"key":"xilKE2zPqc"},{"type":"paragraph","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"IaQaTkdSEj"},{"type":"inlineCode","value":"GL_TEXTURE_MIN_FILTER","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"qtPfcX0Q95"},{"type":"text","value":" and ","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"R5OpYOFl7P"},{"type":"inlineCode","value":"GL_TEXTURE_MAG_FILTER","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"UEqSpqWEpC"},{"type":"text","value":" arguments refer to ","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"EV3hrmAMW7"},{"type":"strong","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"text","value":"minification","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"Doi7a8EU46"}],"key":"ysifdOqMHe"},{"type":"text","value":" and ","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"deVqH21kaJ"},{"type":"strong","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"text","value":"magnification","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"SyxhXhRl4a"}],"key":"RBjXV1S9kV"},{"type":"text","value":". Minification is where the texture is larger than the polygon it is being mapped to so a fragment covers multiple textels. Magnification is the opposite where the texture is smaller than the polygon so that a single textel takes up multiple fragments. We can set different interpolation for magnification and minification.","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"EBPNntfRGY"}],"key":"GoR0SQMUfI"},{"type":"paragraph","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"children":[{"type":"text","value":"To demonstrate the affects of minification lets use a low resolution texture. Change the ","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"key":"JwI1omhU3h"},{"type":"inlineCode","value":"path","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"key":"BMmT0hSrPO"},{"type":"text","value":" variable to the following","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"key":"IInqWw0Qux"}],"key":"t5cy2U6pVb"},{"type":"code","lang":"cpp","value":"// Load texture image from file\nconst char *path = \"../assets/mario_small.png\";","position":{"start":{"line":586,"column":1},"end":{"line":589,"column":1}},"key":"hWH2OPhB0Q"},{"type":"paragraph","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"children":[{"type":"text","value":"And change the ","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"Ak5yHxDgFO"},{"type":"inlineMath","value":"(u, v)","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u, v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"gxOuE8iLbM"},{"type":"text","value":" coordinates back so that the texture fills the rectangle. Compile and run the program, and you should see the image shown in ","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"pvo2O8akgX"},{"type":"crossReference","kind":"figure","identifier":"gl_nearest-figure","label":"GL_NEAREST-figure","children":[{"type":"text","value":"Figure ","key":"Xks8XW1qC8"},{"type":"text","value":"15","key":"o7aNvq2AOl"}],"template":"Figure %s","enumerator":"15","resolved":true,"html_id":"gl-nearest-figure","key":"YWPAVtCqA9"},{"type":"text","value":".","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"XcIKMeq21G"}],"key":"ibBulduxFM"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_GL_NEAREST-7bacc83fe7e4d25300e5ddf91c9e75b1.png","alt":"Nearest neighbour interpolation","width":"500","data":{"altTextIsAutoGenerated":true},"key":"K7ErTb9Gi0","urlSource":"../_images/03_GL_NEAREST.png","urlOptimized":"/03_GL_NEAREST-7bacc83fe7e4d25300e5ddf91c9e75b1.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":597,"column":1},"end":{"line":597,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"GL_NEAREST-figure","identifier":"gl_nearest-figure","html_id":"gl-nearest-figure","enumerator":"15","children":[{"type":"text","value":"Figure ","key":"nOgU0LD85W"},{"type":"text","value":"15","key":"wcMnJtTJFk"},{"type":"text","value":":","key":"I9CRTPTy2Y"}],"template":"Figure %s:","key":"R1lpJZMciU"},{"type":"text","value":"Nearest neighbour interpolation","position":{"start":{"line":597,"column":1},"end":{"line":597,"column":1}},"key":"IRXAWypYcr"}],"key":"Fa22j4rEFY"}],"key":"z0NCLcDo5x"}],"label":"GL_NEAREST-figure","identifier":"gl_nearest-figure","enumerator":"15","html_id":"gl-nearest-figure","key":"QbPA9lEAY9"},{"type":"paragraph","position":{"start":{"line":600,"column":1},"end":{"line":600,"column":1}},"children":[{"type":"text","value":"As you can see the texture mapped rectangle has a block ","position":{"start":{"line":600,"column":1},"end":{"line":600,"column":1}},"key":"sgopuY76gg"},{"type":"strong","position":{"start":{"line":600,"column":1},"end":{"line":600,"column":1}},"children":[{"type":"text","value":"aliased","position":{"start":{"line":600,"column":1},"end":{"line":600,"column":1}},"key":"wgcOAaDTpY"}],"key":"CsuEpb9hx3"},{"type":"text","value":" look since multiple fragments share the same textel.","position":{"start":{"line":600,"column":1},"end":{"line":600,"column":1}},"key":"hwr53jhWRg"}],"key":"xEKz7q6wNh"},{"type":"heading","depth":4,"position":{"start":{"line":602,"column":1},"end":{"line":602,"column":1}},"children":[{"type":"text","value":"Bilinear interpolation","position":{"start":{"line":602,"column":1},"end":{"line":602,"column":1}},"key":"ljOJdafnc6"}],"identifier":"bilinear-interpolation","label":"Bilinear interpolation","html_id":"bilinear-interpolation","implicit":true,"key":"EpIAIeRiMk"},{"type":"paragraph","position":{"start":{"line":604,"column":1},"end":{"line":604,"column":1}},"children":[{"type":"text","value":"Another method is to calculate the sample colour using ","position":{"start":{"line":604,"column":1},"end":{"line":604,"column":1}},"key":"YWxOsoo5Bq"},{"type":"link","url":"https://en.wikipedia.org/wiki/Bilinear_interpolation","children":[{"type":"strong","children":[{"type":"text","value":"bilinear interpolation","key":"eqyiwtAse2"}],"key":"hydZX2oRKs"}],"urlSource":"https://en.wikipedia.org/wiki/Bilinear_interpolation","data":{"page":"Bilinear_interpolation","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"UUyaxtHspP"},{"type":"text","value":" where the distance between ","position":{"start":{"line":604,"column":1},"end":{"line":604,"column":1}},"key":"hwZNzW5ZuD"},{"type":"inlineMath","value":"(u,v)","position":{"start":{"line":604,"column":1},"end":{"line":604,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u,v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"Pfep2hcyxm"},{"type":"text","value":" coordinate and the centre of a textel determines how much that textel contributes to the sample colour, i.e., the closer the textel the more of the textel colour is contained in the colour sample.","position":{"start":{"line":604,"column":1},"end":{"line":604,"column":1}},"key":"Z0ZGrVhi3H"}],"key":"TDUdOk4Zbd"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_bilinear-dfe9586712250d541ef3952b8451de84.svg","alt":"Bilinear interpolation.","width":"500","data":{"altTextIsAutoGenerated":true},"key":"x9Hk6mpeWd","urlSource":"../_images/03_bilinear.svg"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":610,"column":1},"end":{"line":610,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"bilinear-interpolation-figure","identifier":"bilinear-interpolation-figure","html_id":"bilinear-interpolation-figure","enumerator":"16","children":[{"type":"text","value":"Figure ","key":"y0GknnRCEB"},{"type":"text","value":"16","key":"pZZKFPzDSw"},{"type":"text","value":":","key":"w3pOdPO0fn"}],"template":"Figure %s:","key":"b1SYo1FkiT"},{"type":"text","value":"Bilinear interpolation.","position":{"start":{"line":610,"column":1},"end":{"line":610,"column":1}},"key":"aj76PjgvQ3"}],"key":"CqpIv7Xd07"}],"key":"xUopv34LeO"}],"label":"bilinear-interpolation-figure","identifier":"bilinear-interpolation-figure","enumerator":"16","html_id":"bilinear-interpolation-figure","key":"FzHjn7EtFm"},{"type":"paragraph","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"children":[{"type":"text","value":"To see the affects of bilinear interpolation, change ","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"s2nDTbvIY4"},{"type":"inlineCode","value":"GL_NEAREST","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"qGVMe5Wgti"},{"type":"text","value":" to ","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"OSywD387jr"},{"type":"inlineCode","value":"GL_LINEAR","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"Ub2szGeZ1w"},{"type":"text","value":" in the ","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"fCHIcSdyo6"},{"type":"inlineCode","value":"glTexParameteri()","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"c4myP9WKsj"},{"type":"text","value":" functions. Compile and run the program, and you should see the image shown in ","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"CVsj2rjhGk"},{"type":"crossReference","kind":"figure","identifier":"gl_linear-figure","label":"GL_LINEAR-figure","children":[{"type":"text","value":"Figure ","key":"VKPhuaEA19"},{"type":"text","value":"17","key":"NAb1aXgBOd"}],"template":"Figure %s","enumerator":"17","resolved":true,"html_id":"gl-linear-figure","key":"imWgL6uc8Y"},{"type":"text","value":".","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"AIKp2EhEbL"}],"key":"Zk0nQGL5Z1"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_GL_LINEAR-a39796d2c1377718abaf1bf42692027e.png","alt":"Nearest neighbour interpolation","width":"500","data":{"altTextIsAutoGenerated":true},"key":"NpNeBRfluW","urlSource":"../_images/03_GL_LINEAR.png","urlOptimized":"/03_GL_LINEAR-a39796d2c1377718abaf1bf42692027e.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":619,"column":1},"end":{"line":619,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"GL_LINEAR-figure","identifier":"gl_linear-figure","html_id":"gl-linear-figure","enumerator":"17","children":[{"type":"text","value":"Figure ","key":"OrnbgW4N2q"},{"type":"text","value":"17","key":"TnSApw5BMx"},{"type":"text","value":":","key":"ZumcW6TxK5"}],"template":"Figure %s:","key":"lYDb8QiChF"},{"type":"text","value":"Nearest neighbour interpolation","position":{"start":{"line":619,"column":1},"end":{"line":619,"column":1}},"key":"NbLDR12iNI"}],"key":"RcImEj37br"}],"key":"hYzX53zO10"}],"label":"GL_LINEAR-figure","identifier":"gl_linear-figure","enumerator":"17","html_id":"gl-linear-figure","key":"zHPyhOWOdV"},{"type":"paragraph","position":{"start":{"line":622,"column":1},"end":{"line":622,"column":1}},"children":[{"type":"text","value":"Here we have an improved texture mapping where the aliasing is less noticeable.","position":{"start":{"line":622,"column":1},"end":{"line":622,"column":1}},"key":"QmKcmgku2w"}],"key":"sSA01in9OW"},{"type":"thematicBreak","position":{"start":{"line":624,"column":1},"end":{"line":624,"column":1}},"key":"H84FCsJnUg"},{"type":"heading","depth":2,"position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"children":[{"type":"text","value":"Mipmaps","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"key":"w3Lfe8OLqm"}],"label":"mipmaps-section","identifier":"mipmaps-section","html_id":"mipmaps-section","key":"suyPSU7srr"},{"type":"paragraph","position":{"start":{"line":629,"column":1},"end":{"line":629,"column":1}},"children":[{"type":"text","value":"Another issue that may occur is when the fragment is a lot smaller than the texture which can happen when an object that is far away from the viewer. In these cases WebGL will struggle to get the colour sample from a high resolution texture since a single fragment covers a large part of the texture.","position":{"start":{"line":629,"column":1},"end":{"line":629,"column":1}},"key":"WihG6K2V89"}],"key":"X6T1ZsUCKk"},{"type":"paragraph","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"children":[{"type":"text","value":"To solve this issue WebGL uses ","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"key":"hrycfvBe8z"},{"type":"link","url":"https://www.khronos.org/WebGL/wiki/Texture#Mip_maps","children":[{"type":"strong","children":[{"type":"text","value":"mipmaps","key":"TAHeg6ZURP"}],"key":"roYOsOBpOv"}],"urlSource":"https://www.khronos.org/WebGL/wiki/Texture#Mip_maps","key":"TAI3urajRX"},{"type":"text","value":" (mip is short for the latin phrase ","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"key":"x7zGXSzEnX"},{"type":"emphasis","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"children":[{"type":"text","value":"“multum in parvo”","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"key":"NGXQiXEkUm"}],"key":"LfrqaS9Cg0"},{"type":"text","value":" or “much in little”) which are a series of textures, each one half the size of the previous one. WebGL will use a mipmap texture most suitable based on the distance of the fragment from the viewer. This way the fragment does not span a large part of the texture, and it also cuts down on memory.","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"key":"OPG4tKYiXB"}],"key":"r9CGFNWUiU"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_mipmaps-b8b07625307cc3f476e2e50e6904241f.svg","alt":"Mipmaps","width":"500","data":{"altTextIsAutoGenerated":true},"key":"baVbah0D9c","urlSource":"../_images/03_mipmaps.svg"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":636,"column":1},"end":{"line":636,"column":1}},"children":[{"type":"text","value":"Mipmaps","position":{"start":{"line":636,"column":1},"end":{"line":636,"column":1}},"key":"ztIlRXxnpJ"}],"key":"SlwjLOEVJK"}],"key":"FTt3gAeNz5"}],"enumerator":"18","key":"PLjSxiNUGH"},{"type":"paragraph","position":{"start":{"line":639,"column":1},"end":{"line":639,"column":1}},"children":[{"type":"text","value":"The good news is that we do not need to create lots of new different size textures because WebGL has a function ","position":{"start":{"line":639,"column":1},"end":{"line":639,"column":1}},"key":"C8ZouBtczN"},{"type":"inlineCode","value":"glGenerateMipmap()","position":{"start":{"line":639,"column":1},"end":{"line":639,"column":1}},"key":"yJKKfAXY6H"},{"type":"text","value":" to do this for us which we have been using for a while.","position":{"start":{"line":639,"column":1},"end":{"line":639,"column":1}},"key":"Y8SA0e44uw"}],"key":"GvrooXXfzG"},{"type":"paragraph","position":{"start":{"line":641,"column":1},"end":{"line":641,"column":1}},"children":[{"type":"text","value":"One issue we may encounter is that when we switch between two mipmaps, e.g., when the viewer is moving towards or away from an object, there can be a notable change in appearance of the object. This is known as ","position":{"start":{"line":641,"column":1},"end":{"line":641,"column":1}},"key":"sck7FGbTAK"},{"type":"strong","position":{"start":{"line":641,"column":1},"end":{"line":641,"column":1}},"children":[{"type":"text","value":"texture popping","position":{"start":{"line":641,"column":1},"end":{"line":641,"column":1}},"key":"inaHF97SwF"}],"key":"h8DdqWfVj7"},{"type":"text","value":" and is caused by switching between two mipmaps. To overcome this WebGL gives the option to sample the texture from a linear interpolation between the two nearest mipmaps. So we have two main texture filtering options and two mipmap options giving four main mipmap options:","position":{"start":{"line":641,"column":1},"end":{"line":641,"column":1}},"key":"vR8HW907d2"}],"key":"M2aj68suHm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":643,"column":1},"end":{"line":647,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":643,"column":1},"end":{"line":643,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"GL_NEAREST_MIPMAP_NEAREST","position":{"start":{"line":643,"column":1},"end":{"line":643,"column":1}},"key":"t7XvyY3Rq5"},{"type":"text","value":" - uses nearest texture filtering on the nearest mipmap;","position":{"start":{"line":643,"column":1},"end":{"line":643,"column":1}},"key":"TRePz2Z7Gv"}],"key":"LstdGfcyi0"}],"key":"ExfzgNPiA8"},{"type":"listItem","spread":true,"position":{"start":{"line":644,"column":1},"end":{"line":644,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"GL_LINEAR_MIPMAP_NEAREST","position":{"start":{"line":644,"column":1},"end":{"line":644,"column":1}},"key":"oS98hLwymW"},{"type":"text","value":" - uses linear texture filtering on the nearest mipmap;","position":{"start":{"line":644,"column":1},"end":{"line":644,"column":1}},"key":"lRkmPvPYhl"}],"key":"HNcDDTEsdS"}],"key":"LkF6iO3gv7"},{"type":"listItem","spread":true,"position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"GL_NEAREST_MIPMAP_LINEAR","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"OeiWLWlXxG"},{"type":"text","value":" - uses nearest texture filtering on a linear interpolation between two mipmaps;","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"CApK2sTVKw"}],"key":"qH3L0fzatR"}],"key":"Mr5ANkaQDE"},{"type":"listItem","spread":true,"position":{"start":{"line":646,"column":1},"end":{"line":647,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"GL_LINEAR_MIPMAP_LINEAR","position":{"start":{"line":646,"column":1},"end":{"line":646,"column":1}},"key":"XrWL0P6URY"},{"type":"text","value":" - uses linear texture filtering on a linear interpolation between two mipmaps.","position":{"start":{"line":646,"column":1},"end":{"line":646,"column":1}},"key":"pYbmOAT2Pu"}],"key":"aOXzXtk9Dt"}],"key":"ZXjPiZA3MU"}],"key":"rEM62Spbjl"},{"type":"paragraph","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"children":[{"type":"text","value":"Like with the texture filtering methods we can use different options for magnifying and minifying the texture. A popular combination is to use ","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"key":"Ts802ogSU7"},{"type":"inlineCode","value":"GL_LINEAR","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"key":"YkDTRgdzWX"},{"type":"text","value":" for the magnification filter and ","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"key":"yvkK6EyzPS"},{"type":"inlineCode","value":"GL_LINEAR_MIPMAP_LINEAR","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"key":"PkpX9Fnllj"},{"type":"text","value":" for the minification filter to avoid textures popping as we zoom into a polygon.","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"key":"COKRxXItXK"}],"key":"LzMGcrYBWh"},{"type":"code","lang":"cpp","value":"glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);","position":{"start":{"line":650,"column":1},"end":{"line":653,"column":1}},"key":"n1MzwUexhp"},{"type":"thematicBreak","position":{"start":{"line":655,"column":1},"end":{"line":655,"column":1}},"key":"RPXX4924TL"},{"type":"heading","depth":2,"position":{"start":{"line":657,"column":1},"end":{"line":657,"column":1}},"children":[{"type":"text","value":"Multiple textures","position":{"start":{"line":657,"column":1},"end":{"line":657,"column":1}},"key":"cdcSW47gFf"}],"identifier":"multiple-textures","label":"Multiple textures","html_id":"multiple-textures","implicit":true,"key":"KzZxOB67jh"},{"type":"paragraph","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"children":[{"type":"text","value":"WebGL allows us to use multiple textures in a single fragment shader (up to 16 in fact). For each new texture we use we need to create and bind the texture to a target, load the texture data from an image file and set the texture wrapping and filtering options. Rather than copying and pasting all the code we have done for each new texture it makes sense to write a function that does this for us. Well if you look in the ","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"cnds7OvmuS"},{"type":"strong","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"children":[{"type":"text","value":"Lab03_Textures","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"kmLNFaXzNb"}],"key":"qaK206abcU"},{"type":"text","value":" project, hidden away in the ","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"HLdiJmYi6y"},{"type":"strong","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"children":[{"type":"text","value":"Header files","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"Q5eVf3VRXc"}],"key":"ODVDQPJR1P"},{"type":"text","value":" folder is the file ","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"q1QBpubTE3"},{"type":"strong","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"children":[{"type":"text","value":"texture.hpp","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"QX3rsp4dqr"}],"key":"U17EOIBr8r"},{"type":"text","value":" that contains a function ","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"BcSgOhN0cH"},{"type":"inlineCode","value":"loadTexture()","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"ZIj076CLui"},{"type":"text","value":" that does all the hard work for us.","position":{"start":{"line":659,"column":1},"end":{"line":659,"column":1}},"key":"IKGosQKyDi"}],"key":"hfGNj700fl"},{"type":"paragraph","position":{"start":{"line":661,"column":1},"end":{"line":661,"column":1}},"children":[{"type":"text","value":"Comment out the code used to load the texture and specify the texture options and enter the following code before the render loop.","position":{"start":{"line":661,"column":1},"end":{"line":661,"column":1}},"key":"bplYY26mL0"}],"key":"erlX6x4IPd"},{"type":"code","lang":"cpp","value":"// Load the textures\nunsigned int texture = loadTexture(\"../assets/crate.jpg\");","position":{"start":{"line":663,"column":1},"end":{"line":666,"column":1}},"key":"ck0eBJKGuz"},{"type":"paragraph","position":{"start":{"line":668,"column":1},"end":{"line":668,"column":1}},"children":[{"type":"text","value":"This creates a texture, loads in the data from the image file into the texture and sets the texture parameters. Compile and run the program, and you should see the image from ","position":{"start":{"line":668,"column":1},"end":{"line":668,"column":1}},"key":"HfGKWYD6t7"},{"type":"crossReference","kind":"figure","identifier":"texture-rectangle-figure","label":"texture-rectangle-figure","children":[{"type":"text","value":"Figure ","key":"GjsPfzAkwv"},{"type":"text","value":"7","key":"U51VtiQIgM"}],"template":"Figure %s","enumerator":"7","resolved":true,"html_id":"texture-rectangle-figure","key":"dqbljoTINd"},{"type":"text","value":".","position":{"start":{"line":668,"column":1},"end":{"line":668,"column":1}},"key":"RgYeNsWn4C"}],"key":"e4ZC66bwcK"},{"type":"paragraph","position":{"start":{"line":670,"column":1},"end":{"line":670,"column":1}},"children":[{"type":"text","value":"We want to work with more than one texture so replace the code above with the following.","position":{"start":{"line":670,"column":1},"end":{"line":670,"column":1}},"key":"GyPDJuRphD"}],"key":"ZFLUYhwjd6"},{"type":"code","lang":"cpp","value":"// Load the textures\nunsigned int texture1 = loadTexture(\"../assets/crate.jpg\");\nunsigned int texture2 = loadTexture(\"../assets/mario.png\");","position":{"start":{"line":672,"column":1},"end":{"line":676,"column":1}},"key":"TRk74sb0y4"},{"type":"paragraph","position":{"start":{"line":678,"column":1},"end":{"line":678,"column":1}},"children":[{"type":"text","value":"This loads the crate and Mario textures and assigns them to the targets ","position":{"start":{"line":678,"column":1},"end":{"line":678,"column":1}},"key":"OKANIm8Uxq"},{"type":"inlineCode","value":"texture1","position":{"start":{"line":678,"column":1},"end":{"line":678,"column":1}},"key":"LebZmV2edN"},{"type":"text","value":" and ","position":{"start":{"line":678,"column":1},"end":{"line":678,"column":1}},"key":"CbuL02SnvL"},{"type":"inlineCode","value":"texture2","position":{"start":{"line":678,"column":1},"end":{"line":678,"column":1}},"key":"oNPfQOhfNq"},{"type":"text","value":". We now want to deal with two textures in the fragment shader, so we need a way of telling WebGL which texture is which, we do this using uniforms.","position":{"start":{"line":678,"column":1},"end":{"line":678,"column":1}},"key":"LCJPmiFcSF"}],"key":"lmH5wopf3U"},{"type":"heading","depth":3,"position":{"start":{"line":682,"column":1},"end":{"line":682,"column":1}},"children":[{"type":"text","value":"Uniforms","position":{"start":{"line":682,"column":1},"end":{"line":682,"column":1}},"key":"IIQl89SGWP"}],"label":"uniforms-section","identifier":"uniforms-section","html_id":"uniforms-section","key":"RjRWvPd7cz"},{"type":"paragraph","position":{"start":{"line":684,"column":1},"end":{"line":684,"column":1}},"children":[{"type":"text","value":"A ","position":{"start":{"line":684,"column":1},"end":{"line":684,"column":1}},"key":"c7oa2Avm72"},{"type":"link","url":"https://www.khronos.org/WebGL/wiki/Uniform_(GLSL)","children":[{"type":"strong","children":[{"type":"text","value":"uniform","key":"KsUjxvOpSE"}],"key":"DCk8CVTnXv"}],"urlSource":"https://www.khronos.org/WebGL/wiki/Uniform_(GLSL)","key":"J58fr3eTyN"},{"type":"text","value":" is a shader variable that remains constant during the execution of the rendering pass and has the same value for all vertices and fragments. Uniforms provide a way to passing data to the shaders, so we will use one for passing the texture target to the fragment shader.","position":{"start":{"line":684,"column":1},"end":{"line":684,"column":1}},"key":"dUTUMrCvnH"}],"key":"kA4ouiaUzY"},{"type":"paragraph","position":{"start":{"line":686,"column":1},"end":{"line":686,"column":1}},"children":[{"type":"text","value":"Add the following code to your program before the render loop (since the textures are the same for every frame).","position":{"start":{"line":686,"column":1},"end":{"line":686,"column":1}},"key":"jTieSQu9Mo"}],"key":"wtqzhuG7j8"},{"type":"code","lang":"cpp","value":"// Send the texture uniforms to the fragment shader\nglUseProgram(shaderID);\nglUniform1i(glGetUniformLocation(shaderID, \"texture1\"), 0);\nglUniform1i(glGetUniformLocation(shaderID, \"texture2\"), 1);","position":{"start":{"line":688,"column":1},"end":{"line":693,"column":1}},"key":"b6jm8jGQ7t"},{"type":"paragraph","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"children":[{"type":"text","value":"Here we let WebGL know we are using our shader program with the ","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"Apy5iFBLSZ"},{"type":"inlineCode","value":"glUseProgram()","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"NDzeYdLCEd"},{"type":"text","value":" function. We then create uniforms for the two texture and assign them values of ","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"E4RCVMGpZk"},{"type":"inlineCode","value":"0","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"dyZCjoQ4Qc"},{"type":"text","value":" and ","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"v6cO4oJ9cl"},{"type":"inlineCode","value":"1","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"c3djeaC2xJ"},{"type":"text","value":" using the ","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"caGCYlRTp3"},{"type":"inlineCode","value":"glUniform1i()","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"hZ5nABBYQF"},{"type":"text","value":" function. These values are the texture units that WebGL uses to distinguish between the different textures in the fragment shader.","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"eOcHpe6BOo"}],"key":"Yfhx3F34Fi"},{"type":"heading","depth":3,"position":{"start":{"line":697,"column":1},"end":{"line":697,"column":1}},"children":[{"type":"text","value":"Texture units","position":{"start":{"line":697,"column":1},"end":{"line":697,"column":1}},"key":"XT41x0FmiH"}],"identifier":"texture-units","label":"Texture units","html_id":"texture-units","implicit":true,"key":"xyqZ9CPUGb"},{"type":"paragraph","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"children":[{"type":"text","value":"A ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"C7MPAYDtuA"},{"type":"strong","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"children":[{"type":"text","value":"texture unit","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"uAqkIikjeR"}],"key":"GSEeWwMjyX"},{"type":"text","value":" is a location value used by fragment shader for the texture sampler we are using. The default texture unit for a texture is ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"Wnj7F6doTK"},{"type":"inlineCode","value":"GL_TEXTURE0","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"z7cUwe8qP6"},{"type":"text","value":" which is what we have been using up to now. We can have up to 16 texture units, ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"O9eBYj3xOp"},{"type":"inlineCode","value":"GL_TEXTURE0","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"kmDGEoNNyU"},{"type":"text","value":", ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"k8FDbEWMgR"},{"type":"inlineCode","value":"GL_TEXTURE1","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"DmIhByeQlI"},{"type":"text","value":" up to ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"v07bUwpt3H"},{"type":"inlineCode","value":"GL_TEXTURE15","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"KG7LTQCFjf"},{"type":"text","value":". Alternatively we could use ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"V8uUGeaCXH"},{"type":"inlineCode","value":"GL_TEXTURE0","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"SV7gaGrSFN"},{"type":"text","value":", ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"eOA6rc7DA7"},{"type":"inlineCode","value":"GL_TEXTURE0 + 1","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"UI1fCfeeak"},{"type":"text","value":", ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"BJARJUvXGo"},{"type":"inlineCode","value":"GL_TEXTURE0 + 2","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"H2BKbjpqqm"},{"type":"text","value":" up to ","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"zx4hVvulg6"},{"type":"inlineCode","value":"GL_TEXTURE + 15","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"ptVydPxMJX"},{"type":"text","value":".","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"wyVFU5iOiJ"}],"key":"YUS6dOFqcW"},{"type":"paragraph","position":{"start":{"line":701,"column":1},"end":{"line":701,"column":1}},"children":[{"type":"text","value":"Add the following code before the render loop.","position":{"start":{"line":701,"column":1},"end":{"line":701,"column":1}},"key":"e0HGhXmbbU"}],"key":"Xs7xQU14pp"},{"type":"code","lang":"cpp","value":"// Bind the textures\nglActiveTexture(GL_TEXTURE0);\nglBindTexture(GL_TEXTURE_2D, texture1);\nglActiveTexture(GL_TEXTURE1);\nglBindTexture(GL_TEXTURE_2D, texture2);","position":{"start":{"line":703,"column":1},"end":{"line":709,"column":1}},"key":"vtmWIKpOmP"},{"type":"paragraph","position":{"start":{"line":711,"column":1},"end":{"line":711,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":711,"column":1},"end":{"line":711,"column":1}},"key":"FxMO87M4C5"},{"type":"inlineCode","value":"glActiveTexture()","position":{"start":{"line":711,"column":1},"end":{"line":711,"column":1}},"key":"r6Xt6fGwBh"},{"type":"text","value":" function lets WebGL know what texture unit we are currently dealing with, and then we bind the texture to that unit using then ","position":{"start":{"line":711,"column":1},"end":{"line":711,"column":1}},"key":"uDkZxAASlI"},{"type":"inlineCode","value":"glBindTexture()","position":{"start":{"line":711,"column":1},"end":{"line":711,"column":1}},"key":"q9PR51wmAP"},{"type":"text","value":" function.","position":{"start":{"line":711,"column":1},"end":{"line":711,"column":1}},"key":"ARR9Mka0Da"}],"key":"b6dhhUg5aS"},{"type":"heading","depth":3,"position":{"start":{"line":713,"column":1},"end":{"line":713,"column":1}},"children":[{"type":"text","value":"Fragment shader","position":{"start":{"line":713,"column":1},"end":{"line":713,"column":1}},"key":"GvjyocbYd9"}],"identifier":"fragment-shader","label":"Fragment shader","html_id":"fragment-shader-1","implicit":true,"key":"NSztP7XQ6N"},{"type":"paragraph","position":{"start":{"line":715,"column":1},"end":{"line":715,"column":1}},"children":[{"type":"text","value":"The last thing we need to do is update the fragment shader so that it uses both textures. Modify ","position":{"start":{"line":715,"column":1},"end":{"line":715,"column":1}},"key":"CGZtyPM76g"},{"type":"strong","position":{"start":{"line":715,"column":1},"end":{"line":715,"column":1}},"children":[{"type":"text","value":"fragmentShader.glsl","position":{"start":{"line":715,"column":1},"end":{"line":715,"column":1}},"key":"rTsNrV9SEq"}],"key":"l8aWtG1UyK"},{"type":"text","value":", so that is looks like the following.","position":{"start":{"line":715,"column":1},"end":{"line":715,"column":1}},"key":"nxSVjF7d2j"}],"key":"aCdMeJsryM"},{"type":"code","lang":"glsl","value":"#version 330 core\n\n// Input\nin vec2 UV;\n\n// Output\nout vec3 colour;\n\n// Uniforms\nuniform sampler2D texture1;\nuniform sampler2D texture2;\n\nvoid main()\n{\n    colour = vec3(mix(texture(texture1, UV), texture(texture2, UV), 0.7));\n}","position":{"start":{"line":717,"column":1},"end":{"line":734,"column":1}},"key":"VhGrsgdbbL"},{"type":"paragraph","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"children":[{"type":"text","value":"Here we have defined the two ","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"sIRPozySQk"},{"type":"inlineCode","value":"sampler2D","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"GSLjWqgZzy"},{"type":"text","value":" uniforms ","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"Ts7MeBvTw9"},{"type":"inlineCode","value":"texture1","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"S6uhJqWkQ9"},{"type":"text","value":" and ","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"s7Ro8NsZbx"},{"type":"inlineCode","value":"texture2","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"NRiBVCfuM3"},{"type":"text","value":", these need to be the same as what we called them in the ","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"qnq86Y6Xyo"},{"type":"inlineCode","value":"glGetUniformLocation()","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"c45EuR0iHh"},{"type":"text","value":" functions. We then use the ","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"efl9EELEai"},{"type":"inlineCode","value":"mix()","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"AQFdSKnsK5"},{"type":"text","value":" function to combine the two textures so that 30% of the fragment colour is from the first texture (the crate) and the remaining 70% is from the second texture (Mario). Compile and run the program, and you should see the image shown in ","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"bOJmqoaXPv"},{"type":"crossReference","kind":"figure","identifier":"two-textures-figure","label":"two-textures-figure","children":[{"type":"text","value":"Figure ","key":"sfYH0lOUxp"},{"type":"text","value":"19","key":"Ee7F5BBjyt"}],"template":"Figure %s","enumerator":"19","resolved":true,"html_id":"two-textures-figure","key":"tCOJrMxKQs"},{"type":"text","value":".","position":{"start":{"line":736,"column":1},"end":{"line":736,"column":1}},"key":"WCBVjZHQ7n"}],"key":"IrPcJsJ3hn"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_two_textures-c51ddc2c14de9b8f96d4ff5c88d08e1d.png","alt":"A rectangle with a mix of two textures applied.","width":"500","data":{"altTextIsAutoGenerated":true},"key":"CTNqarYA37","urlSource":"../_images/03_two_textures.png","urlOptimized":"/03_two_textures-c51ddc2c14de9b8f96d4ff5c88d08e1d.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"two-textures-figure","identifier":"two-textures-figure","html_id":"two-textures-figure","enumerator":"19","children":[{"type":"text","value":"Figure ","key":"bxupCbxxpJ"},{"type":"text","value":"19","key":"RFIgMCKCqI"},{"type":"text","value":":","key":"AuyQMVy695"}],"template":"Figure %s:","key":"eANSGz7BLz"},{"type":"text","value":"A rectangle with a mix of two textures applied.","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"key":"hUKhw4BPOW"}],"key":"rthFx1MBQt"}],"key":"kmq8tRZuBy"}],"label":"two-textures-figure","identifier":"two-textures-figure","enumerator":"19","html_id":"two-textures-figure","key":"T3G2o2d3S5"},{"type":"thematicBreak","position":{"start":{"line":745,"column":1},"end":{"line":745,"column":1}},"key":"nf7GQlx2f2"},{"type":"heading","depth":2,"position":{"start":{"line":747,"column":1},"end":{"line":747,"column":1}},"children":[{"type":"text","value":"Exercises","position":{"start":{"line":747,"column":1},"end":{"line":747,"column":1}},"key":"cfNB7tU5Bl"}],"identifier":"exercises","label":"Exercises","html_id":"exercises","implicit":true,"key":"RztBpj9iNq"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":749,"column":1},"end":{"line":750,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":749,"column":1},"end":{"line":750,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Change the ","position":{"start":{"line":749,"column":1},"end":{"line":749,"column":1}},"key":"TjLNLaGFrI"},{"type":"inlineCode","value":"uv","position":{"start":{"line":749,"column":1},"end":{"line":749,"column":1}},"key":"uCFnZDjCqX"},{"type":"text","value":" array to create a texture rectangle consisting of a 6 by 4 grid of Mario’s.","position":{"start":{"line":749,"column":1},"end":{"line":749,"column":1}},"key":"MfZ5Sd4dxE"}],"key":"y0MoUR0IfC"}],"key":"pnFkxUShLB"}],"key":"DGEU5VftTk"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_Ex1-e1bb6086706bdd36fe0119b4859023a3.png","width":"400","key":"wwY1vbWj4O","urlSource":"../_images/03_Ex1.png","urlOptimized":"/03_Ex1-e1bb6086706bdd36fe0119b4859023a3.webp"}],"enumerator":"20","key":"y5TC9nzmOa"},{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":755,"column":1},"end":{"line":756,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":755,"column":1},"end":{"line":756,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Modify the fragment shader so that Mario is facing to the right instead of the left. Hint: the command ","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"XoOOeildLA"},{"type":"inlineCode","value":"vec2(vector.x, vector.y)","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"JxrCBclscO"},{"type":"text","value":" creates a 2-element vector using the elements of ","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"neBBv7eh1R"},{"type":"inlineCode","value":"vector","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"tPaTKlFyjt"},{"type":"text","value":".","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"uVhaNxiDe4"}],"key":"QSvQw2qjrs"}],"key":"Jwlj5PqsSM"}],"key":"toSKRhreX0"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_Ex2-19f101abf25cd001e5c46c89599aaac6.png","width":"400","key":"xF0AEBQh3E","urlSource":"../_images/03_Ex2.png","urlOptimized":"/03_Ex2-19f101abf25cd001e5c46c89599aaac6.webp"}],"enumerator":"21","key":"qNvK2O8DI8"},{"type":"list","ordered":true,"start":3,"spread":false,"position":{"start":{"line":761,"column":1},"end":{"line":762,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":761,"column":1},"end":{"line":762,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Modify the fragment shader so that the red and green colour components of the pixel are switched.","position":{"start":{"line":761,"column":1},"end":{"line":761,"column":1}},"key":"EzJ6pbO8zl"}],"key":"wNAu3sVgsv"}],"key":"Qz7CKKZnAU"}],"key":"PxskFubRmf"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_Ex5-b0619519bd91800b173238c6d1ad3b6b.png","width":"400","key":"TPfoPO48PZ","urlSource":"../_images/03_Ex5.png","urlOptimized":"/03_Ex5-b0619519bd91800b173238c6d1ad3b6b.webp"}],"enumerator":"22","key":"hSw8xHjHYa"},{"type":"list","ordered":true,"start":4,"spread":false,"position":{"start":{"line":767,"column":1},"end":{"line":768,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":767,"column":1},"end":{"line":768,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Apply a texture of your choice to the rectangle (e.g., a selfie).","position":{"start":{"line":767,"column":1},"end":{"line":767,"column":1}},"key":"EZbx6xK17z"}],"key":"uBtibmHRX2"}],"key":"nYHKbLhzah"}],"key":"xfrxItoZfZ"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_Ex3-00579653ca92237d3fa093886999c892.png","width":"400","key":"VYBgiJJ3YR","urlSource":"../_images/03_Ex3.png","urlOptimized":"/03_Ex3-00579653ca92237d3fa093886999c892.webp"}],"enumerator":"23","key":"VwAxsjSILP"},{"type":"list","ordered":true,"start":5,"spread":false,"position":{"start":{"line":773,"column":1},"end":{"line":774,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":773,"column":1},"end":{"line":774,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Change the ","position":{"start":{"line":773,"column":1},"end":{"line":773,"column":1}},"key":"u10iF5NHt1"},{"type":"inlineMath","value":"(u,v)","position":{"start":{"line":773,"column":1},"end":{"line":773,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mo separator=\"true\">,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(u,v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"Pt6ULg2Jma"},{"type":"text","value":" coordinates so that the textured rectangle shows a zoomed in image of Mario’s eye.","position":{"start":{"line":773,"column":1},"end":{"line":773,"column":1}},"key":"z2z51HXhP1"}],"key":"GBreE2j48Z"}],"key":"ydDn3Ap8IZ"}],"key":"FONoYp1GXt"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/03_Ex4-7c9396e4f74ab16a951f8070497b28df.png","width":"400","key":"o1zh9RblrH","urlSource":"../_images/03_Ex4.png","urlOptimized":"/03_Ex4-7c9396e4f74ab16a951f8070497b28df.webp"}],"enumerator":"24","key":"dojbQ15Q94"},{"type":"thematicBreak","position":{"start":{"line":779,"column":1},"end":{"line":779,"column":1}},"key":"O3GZK3o15G"},{"type":"heading","depth":2,"position":{"start":{"line":781,"column":1},"end":{"line":781,"column":1}},"children":[{"type":"text","value":"Video walkthrough","position":{"start":{"line":781,"column":1},"end":{"line":781,"column":1}},"key":"e7nFx5S3B9"}],"identifier":"video-walkthrough","label":"Video walkthrough","html_id":"video-walkthrough","implicit":true,"key":"S3vugdwG8m"},{"type":"paragraph","position":{"start":{"line":783,"column":1},"end":{"line":783,"column":1}},"children":[{"type":"text","value":"The video below walks you through these lab materials.","position":{"start":{"line":783,"column":1},"end":{"line":783,"column":1}},"key":"OA9WQlPlXP"}],"key":"eAy7AsKdxy"},{"type":"iframe","src":"https://www.youtube.com/embed/w0e3H40TsQA?si=OWycaeQlo_6ezT3G","width":"100%","key":"gmYzSSLDnS"}],"key":"M49hjAhwv1"}],"key":"gH1sGs9NEB"},"references":{"cite":{"order":[],"data":{}}}}