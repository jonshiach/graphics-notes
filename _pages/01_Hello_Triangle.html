
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Lab 1: Drawing a Simple Shape in WebGL &#8212; Computer Graphics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"tex": {"macros": {"vec": ["\\mathbf{#1}", 1], "dydt": ["\\frac{\\mathrm{d} #1}{\\mathrm{d} #2}", 2]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_pages/01_Hello_Triangle';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lab 2: Colours" href="02_Colours.html" />
    <link rel="prev" title="Computer Graphics" href="../intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.svg" class="logo__image only-light" alt="Computer Graphics - Home"/>
    <script>document.write(`<img src="../_static/logo.svg" class="logo__image only-dark" alt="Computer Graphics - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Computer Graphics
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Lab 1: Drawing a Simple Shape in WebGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_Colours.html">Lab 2: Colours</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_Textures.html">Lab 3: Textures</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_Vectors_and_matrices.html">Lab 4: Vectors and Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_Transformations.html">Lab 5: Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_3D_worlds.html">Lab 6: 3D Worlds</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_Moving_the_camera.html">Lab 7: Moving the Camera</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jonshiach/graphics-notes" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jonshiach/graphics-notes/issues/new?title=Issue%20on%20page%20%2F_pages/01_Hello_Triangle.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/_pages/01_Hello_Triangle.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lab 1: Drawing a Simple Shape in WebGL</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-html-and-javascript-files">Setup HTML and JavaScript Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-a-red-triangle">Draw a Red Triangle</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-the-triangle-co-ordinates">Define the Triangle Co-ordinates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-vertex-buffer-object-vbo-for-the-triangle">Create a Vertex Buffer Object (VBO) for the Triangle</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-and-compile-the-vertex-shader">Write and Compile the Vertex Shader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-and-compile-the-fragment-shader">Write and Compile the Fragment Shader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#link-the-shaders-into-a-webgl-program">Link the Shaders into a WebGL Program</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-the-triangle">Draw the Triangle</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#steps-used-to-draw-the-triangle">Steps Used to Draw the Triangle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-compiler-utility-functions">Shader Compiler Utility Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="lab-1-drawing-a-simple-shape-in-webgl">
<span id="lab1-section"></span><h1>Lab 1: Drawing a Simple Shape in WebGL<a class="headerlink" href="#lab-1-drawing-a-simple-shape-in-webgl" title="Link to this heading">#</a></h1>
<p>For our first WebGL example we are going to display a simple triangle to the screen, this “hello triangle” is the computer graphics version of the classic “hello world!” example.</p>
<section id="setup-html-and-javascript-files">
<h2>Setup HTML and JavaScript Files<a class="headerlink" href="#setup-html-and-javascript-files" title="Link to this heading">#</a></h2>
<p>To start with we need two files, an HTML file that includes a <code class="docutils literal notranslate"><span class="pre">&lt;canvas&gt;</span></code> element which acts as a rendering surface for WebGL, and JavaScript file that controls everything that happens inside the canvas using the WebGL API.</p>
<p>These notes use a code-along principle in that as you work through these notes you will be tasked to create files, enter text and run code (the first of these tasks is below). Through working this way you will build an understanding of the concepts and techniques used in computer graphics. Where you are asked to enter code into your files, try to avoid the temptation of simply copying and pasting code, instead type out the code. Whilst this does have the risk of making typos and creating bugs, it does have an effect of helping you understand what each line of code is doing.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Create a folder called <em><strong>01 Hello Triangle</strong></em> inside which create an HTML file called <em><strong>index.html</strong></em> and enter the following code.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;!doctype html&gt;

&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;

    &lt;title&gt;Lab 1 - Hello Triangle&lt;/title&gt;

    &lt;style&gt;
      html, head, body {
        margin: 0;
        padding: 25px;
        background-color: #000;
      }

      #demo-canvas {
        width: 800px;
        height: 600px;
        background-color: #8AcE00; 
        image-rendering: crisp-edges;
      }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;canvas id=&quot;demo-canvas&quot; width=&quot;800px&quot; height=&quot;600px&quot;&gt;
      HTML5 canvas not supported in your browser!
    &lt;/canvas&gt;

    &lt;script src=&quot;hello_triangle.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
</div>
<p>If you open your <em><strong>index.html</strong></em> file in a web browser (e.g., Chrome) you will see that we have created a <code class="docutils literal notranslate"><span class="pre">&lt;canvas&gt;</span></code> element that is 800 pixels wide by 600 pixels high that is a particularly lurid shade of green. The reason for this horrible colour is that we will be clearing the canvas in our WebGL app so if we see this green colour we know something has gone wrong.</p>
<figure class="align-default" id="canvas-figure">
<a class="reference internal image-reference" href="../_images/01_Canvas.png"><img alt="../_images/01_Canvas.png" src="../_images/01_Canvas.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">The lurid green canvas element.</span><a class="headerlink" href="#canvas-figure" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Inside your <em><strong>01 Hello Triangle</strong></em> folder, create a JavaScript file <em><strong>hello_triangle.js</strong></em> that contains the following.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Main function</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="c1">// Setup WebGL</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">canvas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;demo-canvas&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">gl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;webgl2&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">gl</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;WebGL not supported&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Clear the canvas</span>
<span class="w">  </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">;</span>
<span class="w">  </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">;</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">viewport</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="w"> </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">clearColor</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// dark gray background</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">COLOR_BUFFER_BIT</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">main</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Uncaught JavaScript exception: </span><span class="si">${</span><span class="nx">e</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Here we have created our main function <code class="docutils literal notranslate"><span class="pre">main()</span></code> inside which we have set up the WebGL canvas. Some functions used here are defined below</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.viewport(0,</span> <span class="pre">0,</span> <span class="pre">canvas.width,</span> <span class="pre">canvas.height);</span></code>
: Defines the rectangular area of the canvas where rendering will take place that maps to the normalized device co-ordinates (-1 to 1 in the <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span> axes). Here our viewport fills the <code class="docutils literal notranslate"><span class="pre">&lt;canvas&gt;</span></code> element.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.clearColor(0.2,</span> <span class="pre">0.2,</span> <span class="pre">0.2,</span> <span class="pre">1.0);</span></code>
: Defines the background colour. Colours are defined using RGBA values (Red, Green, Blue and Alpha) so here our background is dark grey.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.clear(gl.COLOR_BUFFER_BIT);</span></code>
: Clears the specified buffer, in this case it’s the colour buffer.</p>
<p>Refresh the browser window and you should still see that the horrible lurid green background. But hang on, haven’t we defined our background colour to be dark grey? The reason for this is that we haven’t embedded the JavaScript file into our HTML file.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Edit the <code class="docutils literal notranslate"><span class="pre">&lt;body&gt;</span></code> tag near the bottom of the <em><strong>index.html</strong></em> file so that it looks like the following.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>...
&lt;body&gt;
  &lt;canvas id=&quot;demo-canvas&quot; width=&quot;800px&quot; height=&quot;600px&quot;&gt;
    HTML5 canvas not supported in your browser! These demos will not work.
  &lt;/canvas&gt;

  &lt;script src=&quot;hello_triangle.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
...
</pre></div>
</div>
</div>
<p>Now if you refresh your browser you should see a dark grey background. If something has gone wrong, and you still see the green background, open up the JavaScript console (if you are using Chrome then press <kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>J</kbd> or <kbd>⌥</kbd> + <kbd>⌘</kbd> + <kbd>J</kbd> on a Mac) and it should give you an indication of what has gone wrong. The life of a graphics programmer is mostly problem-solving and debugging, so get used to doing this.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/01_colour_buffer.png"><img alt="../_images/01_colour_buffer.png" src="../_images/01_colour_buffer.png" style="width: 80%;" />
</a>
</figure>
</section>
<hr class="docutils" />
<section id="draw-a-red-triangle">
<h2>Draw a Red Triangle<a class="headerlink" href="#draw-a-red-triangle" title="Link to this heading">#</a></h2>
<p>The first shape we are going to draw with WebGL is a red triangle. We start with a triangle because it is the fundamental building block of modern computer graphics. Every complex 3D model, character, environment, object etc. are ultimately made from many small triangles, and WebGL (like all graphics hardware) is designed to process triangles extremely efficiently.</p>
<p>Triangles are used in computer graphics for several important reasons:</p>
<ul class="simple">
<li><p><strong>A triangle is always flat.</strong>
Any three points in space define a single plane, which means a triangle cannot become bent or warped. This makes it reliable for representing surfaces.</p></li>
<li><p><strong>They are the simplest possible polygon.</strong>
With only three vertices, triangles are easy for the GPU to transform, rasterise, and shade. All calculations, such as clipping and interpolation, are simpler with triangles than with more complex shapes.</p></li>
<li><p><strong>Graphics hardware is optimized for triangles.</strong>
Modern GPUs expect triangles as input, and even if you provide quads or other polygons, the hardware will convert them into triangles internally.</p></li>
<li><p><strong>Any shape can be built from triangles.</strong>
Complex models and smooth surfaces can be approximated by dividing them into many small triangles, a process known as tessellation. This allows triangles to represent everything from simple shapes to highly detailed 3D geometry.</p></li>
<li><p><strong>Interpolation works cleanly across triangles.</strong>
Colours, textures, normals, and depth all interpolate smoothly inside a triangle using barycentric co-ordinates, which ensures correct shading and rendering.</p></li>
</ul>
<section id="define-the-triangle-co-ordinates">
<span id="triangle-coordinates-section"></span><h3>Define the Triangle Co-ordinates<a class="headerlink" href="#define-the-triangle-co-ordinates" title="Link to this heading">#</a></h3>
<p>Our triangle will have co-ordinates at <span class="math notranslate nohighlight">\((-0.5, -0.5, 0)\)</span> (lower-left vertex), <span class="math notranslate nohighlight">\((0.5, -0.5, 0)\)</span> (lower-right vertex) and <span class="math notranslate nohighlight">\((0, 0.5, 0)\)</span> (top vertex).</p>
<figure class="align-default" id="triangle-figure">
<a class="reference internal image-reference" href="../_images/01_Triangle.svg"><img alt="../_images/01_Triangle.svg" src="../_images/01_Triangle.svg" style="width: 70%;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">The vertex co-ordinates for the red triangle example.</span><a class="headerlink" href="#triangle-figure" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Enter the following just before we clear the canvas.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define triangle vertices</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">triangleVertices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Float32Array</span><span class="p">([</span>
<span class="w">  </span><span class="c1">// x     y    z</span>
<span class="w">   </span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="c1">// vertex 0       2</span>
<span class="w">    </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="c1">// vertex 1     /   \</span>
<span class="w">    </span><span class="mf">0.0</span><span class="p">,</span><span class="w">  </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="c1">// vertex 2    0 --- 1</span>
<span class="p">]);</span>
</pre></div>
</div>
</div>
<p>Here we have defined an array called <code class="docutils literal notranslate"><span class="pre">triangleVertices</span></code> containing 9 values for the co-ordinates of the 3 triangle vertices. WebGL works best with 32-bit floats, and the default JavaScript float precision is 64-bit, so we use the <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">Float32Array()</span></code> command to convert these into 32-bit float array.</p>
</section>
<section id="create-a-vertex-buffer-object-vbo-for-the-triangle">
<span id="lab01-triangle-buffer"></span><h3>Create a Vertex Buffer Object (VBO) for the Triangle<a class="headerlink" href="#create-a-vertex-buffer-object-vbo-for-the-triangle" title="Link to this heading">#</a></h3>
<p>The data in the <code class="docutils literal notranslate"><span class="pre">triangleVertices</span></code> array is stored in the CPU (RAM) and not in the GPU. To move data across to the GPU we create a WebGL buffer object known as a <strong>Vertex Buffer Object (VBO)</strong> and copy in the data.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Enter the following after we have defined the triangle vertices array.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create a VBO for the triangle</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">VBO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">createBuffer</span><span class="p">();</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">bindBuffer</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="nx">VBO</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">bufferData</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="nx">triangleVertices</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">STATIC_DRAW</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">bindBuffer</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>The commands used here are explained below</p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">VBO</span> <span class="pre">=</span> <span class="pre">gl.createBuffer();</span></code>
: Creates a buffer object on the GPU.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.bindBuffer(gl.ARRAY_BUFFER,</span> <span class="pre">VBO);</span></code>
: Binds our VBO to an array buffer so that WebGL knows where to send the data. The word <em>bind</em> in graphics programming means to make it the currently active resource for a particular purpose so subsequent WebGL operations affect it.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.bufferData(gl.ARRAY_BUFFER,</span> <span class="pre">triangleVertices,</span> <span class="pre">gl.STATIC_DRAW);</span></code>
: Copies the data from the <code class="docutils literal notranslate"><span class="pre">triangleVertices</span></code> array into the VBO which is the currently bound buffer. The <code class="docutils literal notranslate"><span class="pre">gl.STATIC_DRAW</span></code> input is a performance hint to WebGL, here we are saying that that triangle vertices will not change.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.bindBuffer(gl.ARRAY_BUFFER,</span> <span class="pre">null);</span></code>
: Here we unbind the current array buffer, so no subsequent commands will mistakenly affect it.</p>
</section>
<section id="write-and-compile-the-vertex-shader">
<span id="lab01-vertex-shader"></span><h3>Write and Compile the Vertex Shader<a class="headerlink" href="#write-and-compile-the-vertex-shader" title="Link to this heading">#</a></h3>
<p>The next step is create a shader program that runs on the GPU and uses WebGL to determine which pixels on the display are to be rendered and in what colour. This shader program comprises two separate programs known as “shaders”: the <strong>vertex shader</strong> and the <strong>fragment shader</strong>. Shaders are written in <strong>GLSL (webGL Shader Language)</strong> which is similar to C.</p>
<p>The vertex shader is called once for each vertex and transforms the vertex co-ordinates from model space (the local object co-ordinates) to the clip space that defines the region that is displayed on the canvas. We have defined our triangle using co-ordinates between <span class="math notranslate nohighlight">\(-1\)</span> and <span class="math notranslate nohighlight">\(1\)</span>, so they are already in clip space and our vertex shader just needs to output each vertex. The shader code for a simple vertex shader is</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#version 300 es</span>
<span class="n">precision</span><span class="w"> </span><span class="n">mediump</span><span class="w"> </span><span class="kt">float</span><span class="p">;</span>

<span class="n">in</span><span class="w"> </span><span class="n">vec3</span><span class="w"> </span><span class="n">aPosition</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">gl_Position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec4</span><span class="p">(</span><span class="n">aPosition</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This code is explained below</p>
<p><code class="docutils literal notranslate"><span class="pre">#version</span> <span class="pre">300</span> <span class="pre">es</span></code>
: Tells the shader we are using GLSL ES 3.00, the shader language used with WebGL 2.0.</p>
<p><code class="docutils literal notranslate"><span class="pre">precision</span> <span class="pre">mediump</span> <span class="pre">float;</span></code>
: Sets the default float precision to medium (16-bit).</p>
<p><code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">vec3</span> <span class="pre">aPosition;</span></code>
: Tells the shader that we are inputting a 3-element vector for the vertex position. The <code class="docutils literal notranslate"><span class="pre">a</span></code> in <code class="docutils literal notranslate"><span class="pre">aPosition</span></code> is short for attribute.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl_Position</span> <span class="pre">=</span> <span class="pre">vec4(aPosition,</span> <span class="pre">1.0);</span></code>
: Outputs a 4-element vector for the clip space co-ordinates of the vertex (there reason why it’s a 4-element vector will be covered later when we look at transformations). The <code class="docutils literal notranslate"><span class="pre">gl_Position</span></code> variable is a required output of every vertex shader.</p>
<p>The simplest way of entering shader code into our JavaScript file is to define it as a multiline string.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Add the following at the top of the <em><strong>hello_triangle.js</strong></em> file. Note the use of backticks <code class="docutils literal notranslate"><span class="pre">`...`</span></code> to define the string using a literal so that we can use a multiline string.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define vertex shader</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">vertexShaderSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="sb">`#version 300 es</span>
<span class="sb">precision mediump float;</span>

<span class="sb">in vec3 aPosition;</span>

<span class="sb">void main() {</span>
<span class="sb">  gl_Position = vec4(aPosition, 1.0);</span>
<span class="sb">}`</span><span class="p">;</span>
</pre></div>
</div>
<p>Now add the following after we have created the VBO.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compile vertex shader</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">vertexShader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">createShader</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">VERTEX_SHADER</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">shaderSource</span><span class="p">(</span><span class="nx">vertexShader</span><span class="p">,</span><span class="w"> </span><span class="nx">vertexShaderSource</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">compileShader</span><span class="p">(</span><span class="nx">vertexShader</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">gl</span><span class="p">.</span><span class="nx">getShaderParameter</span><span class="p">(</span><span class="nx">vertexShader</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">COMPILE_STATUS</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Error compiling vertex shader:\n`</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">getShaderInfoLog</span><span class="p">(</span><span class="nx">vertexShader</span><span class="p">));</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">deleteShader</span><span class="p">(</span><span class="nx">vertexShader</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>As well as defining a string for the vertex shader code, we then create a vertex shader object, attach the shader code to it and compile it. There’s no easy way to check for errors in shader code, so it is good practice to do a check to see if it has compiled ok, if not a message is logged to the console.</p>
</section>
<section id="write-and-compile-the-fragment-shader">
<span id="lab01-fragment-shader"></span><h3>Write and Compile the Fragment Shader<a class="headerlink" href="#write-and-compile-the-fragment-shader" title="Link to this heading">#</a></h3>
<p>The other shader we need to write is the fragment shader. This takes in information on a fragment that has been identified as being part of the primitive (i.e., triangle) and determines the colour that it will be rendered. We are going to render all fragments in the triangle as red, so the fragment shader code is as follows.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#version 300 es</span>
<span class="n">precision</span><span class="w"> </span><span class="n">mediump</span><span class="w"> </span><span class="kt">float</span><span class="p">;</span>

<span class="n">out</span><span class="w"> </span><span class="n">vec4</span><span class="w"> </span><span class="n">outColour</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">outColour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec4</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is similar to the vertex shader with a couple of exceptions. The vertex shader has a required output of <code class="docutils literal notranslate"><span class="pre">gl_Position</span></code>, so this doesn’t need to be declared, fragment shaders can have a number of outputs, so we need to declare these. Here we have declared an output of a 4-element vector using <code class="docutils literal notranslate"><span class="pre">out</span> <span class="pre">vec4</span> <span class="pre">outColour;</span></code>. Within the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function, we set the output vector to <span class="math notranslate nohighlight">\((1, 0, 0, 1)\)</span>, i.e., all red with no blue or green components and the Alpha value is set to 1 so that it is opaque.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Add the following after we have defined the vertex shader.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define fragment shader</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fragmentShaderSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="sb">`#version 300 es</span>
<span class="sb">precision mediump float;</span>

<span class="sb">out vec4 outColour;</span>

<span class="sb">void main() {</span>
<span class="sb">  outColour = vec4(1.0, 0.0, 0.0, 1.0);</span>
<span class="sb">}`</span><span class="p">;</span>
</pre></div>
</div>
<p>And add the following after we have compiled the vertex shader.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compile fragment shader</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fragmentShader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">createShader</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">FRAGMENT_SHADER</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">shaderSource</span><span class="p">(</span><span class="nx">fragmentShader</span><span class="p">,</span><span class="w"> </span><span class="nx">fragmentShaderSource</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">compileShader</span><span class="p">(</span><span class="nx">fragmentShader</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">gl</span><span class="p">.</span><span class="nx">getShaderParameter</span><span class="p">(</span><span class="nx">fragmentShader</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">COMPILE_STATUS</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Error compiling fragment shader:\n`</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">getShaderInfoLog</span><span class="p">(</span><span class="nx">fragmentShader</span><span class="p">));</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">deleteShader</span><span class="p">(</span><span class="nx">fragmentShader</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>This code is very similar to the one used for the vertex shader. Later we will be using a helper function for DRY (Don’t Repeat Yourself).</p>
</section>
<section id="link-the-shaders-into-a-webgl-program">
<span id="lab01-webgl-program"></span><h3>Link the Shaders into a WebGL Program<a class="headerlink" href="#link-the-shaders-into-a-webgl-program" title="Link to this heading">#</a></h3>
<p>The next step is to create a WebGL program and link the vertex and fragment shader to it. In doing this it manages the inputs and outputs, attributes and uniforms between our two shaders.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Add the following after we have compiled the vertex and fragment shaders.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create WebGL shader program and link the vertex and fragment shaders</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">shaderProgram</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">createProgram</span><span class="p">();</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">attachShader</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">,</span><span class="w"> </span><span class="nx">vertexShader</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">attachShader</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">,</span><span class="w"> </span><span class="nx">fragmentShader</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">linkProgram</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">gl</span><span class="p">.</span><span class="nx">getProgramParameter</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">LINK_STATUS</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Failed to link WebGL program : </span><span class="si">${</span><span class="nx">gl</span><span class="p">.</span><span class="nx">getProgramInfoLog</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w"> </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The commands used here are similar to those used for the vertex and fragment shader. Instead of compiling the program we are simply linking the two shaders using the <code class="docutils literal notranslate"><span class="pre">gl.linkProgram()</span></code> function. We also do a check to see if the linking has been successful.</p>
</section>
<section id="draw-the-triangle">
<span id="lab01-draw-triangle"></span><h3>Draw the Triangle<a class="headerlink" href="#draw-the-triangle" title="Link to this heading">#</a></h3>
<p>So far we have done a fair bit of work creating a buffer object for the triangle vertices, written and compiled the vertex and fragment shader and linked these into a WebGL program. But we haven’t drawn anything yet! To do this we need to tell WebGL which shader program to use, tell it how to interpret the vertex data and then tell it to draw the triangle.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Enter the following after we have cleared the canvas.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Set the shader program</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">useProgram</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">gl.useProgram()</span></code> function tells WebGL which shader program to use. It will use the currently selected program until told differently by another call to this function.</p>
<p>Earlier we created the VBO in the GPU and copied across our vertex data. We now need to tell WebGL where this data is and how to read it, so it can work its magic with the shaders.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Enter the following after you have set the shader program.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Tell WebGL how to read data from the vertex buffer  </span>
<span class="kd">const</span><span class="w"> </span><span class="nx">positionLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">getAttribLocation</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;aPosition&quot;</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">enableVertexAttribArray</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">bindBuffer</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="nx">VBO</span><span class="p">);</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">vertexAttribPointer</span><span class="p">(</span>
<span class="w">  </span><span class="nx">positionLocation</span><span class="p">,</span><span class="w"> </span><span class="c1">// index</span>
<span class="w">  </span><span class="mf">3</span><span class="p">,</span><span class="w">                </span><span class="c1">// size</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">FLOAT</span><span class="p">,</span><span class="w">         </span><span class="c1">// type</span>
<span class="w">  </span><span class="kc">false</span><span class="p">,</span><span class="w">            </span><span class="c1">// normalized</span>
<span class="w">  </span><span class="mf">0</span><span class="p">,</span><span class="w">                </span><span class="c1">// stride</span>
<span class="w">  </span><span class="mf">0</span><span class="p">);</span><span class="w">               </span><span class="c1">// offset</span>
</pre></div>
</div>
</div>
<p>The functions used here are explained below;</p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">positionLocation</span> <span class="pre">=</span> <span class="pre">gl.getAttribLocation(shaderProgram,</span> <span class="pre">'aPosition');</span></code>
: Gets the location of the <code class="docutils literal notranslate"><span class="pre">aPosition</span></code> attribute from the WebGL shader program.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.enableVertexAttribArray(0);</span></code>
: Enables a vertex attribute with location <code class="docutils literal notranslate"><span class="pre">0</span></code> so that WebGL knows to read data from the VBO and pass it to the vertex shader.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.bindBuffer(gl.Array_BUFFER,</span> <span class="pre">VBO);</span></code>
: Make the VBO the currently active buffer.</p>
<p><code class="docutils literal notranslate"><span class="pre">gl.vertexAttribPointer(positionLocation,</span> <span class="pre">3,</span> <span class="pre">gl.FLOAT,</span> <span class="pre">false,</span> <span class="pre">0,</span> <span class="pre">0);</span></code>
: Tells WebGL how to read the data from the currently bound buffer and pass it to the vertex shader attribution <code class="docutils literal notranslate"><span class="pre">0</span></code>. The inputs are explained in the table below.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Input</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">index</span></code></p></td>
<td class="text-left"><p>Attribute location. We stored this in the <code class="docutils literal notranslate"><span class="pre">positionLocation</span></code> variable using the <code class="docutils literal notranslate"><span class="pre">gl.getAttribLocation()</span></code> function.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p></td>
<td class="text-left"><p>Number of components per vertex, We have 3D <span class="math notranslate nohighlight">\((x, y, z)\)</span> co-ordinates, so this is 3.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></td>
<td class="text-left"><p>Data type. We are using floats.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">normalized</span></code></p></td>
<td class="text-left"><p>Whether integer values should be mapped to <span class="math notranslate nohighlight">\([0, 1]\)</span> or <span class="math notranslate nohighlight">\([-1, 1]\)</span>. Our vertex co-ordinates are in NDC, so we don’t need to do this.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stride</span></code></p></td>
<td class="text-left"><p>Number of bytes between first attribute of each vertex. Our data is tightly packed, so we can set the stride to 0, if the array buffer contained other data, e.g., colours, then we would need to determine the number of bytes between the first attribute, e.g., the <span class="math notranslate nohighlight">\(x\)</span> co-ordinates.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">offset</span></code></p></td>
<td class="text-left"><p>Number of bytes from the start of the buffer the attribute of the first vertex. Our first vertex co-ordinate is the first element in the buffer, so this is 0.</p></td>
</tr>
</tbody>
</table>
</div>
<p>The last thing we need to do is actually tell WebGL to draw the triangle.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Enter the following after the you have told WebGL how to read the data from the vertex buffer.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Draw the triangle</span>
<span class="nx">gl</span><span class="p">.</span><span class="nx">drawArrays</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">TRIANGLES</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">gl.drawArrays()</span></code> function tells the GPU to draw the primitives. The inputs are the type of primitive (we have a triangle), the index of the first vertex and the number of vertices to draw (we have one triangle, so we want to draw 3 vertices). Refresh your browser window, pray to the programming gods and if everything has gone to plan you should see the red triangle displayed on the canvas.</p>
<figure class="align-default" id="hello-triangle-figure">
<a class="reference internal image-reference" href="../_images/01_hello_triangle.png"><img alt="../_images/01_hello_triangle.png" src="../_images/01_hello_triangle.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">Hello triangle!</span><a class="headerlink" href="#hello-triangle-figure" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<hr class="docutils" />
<section id="steps-used-to-draw-the-triangle">
<h2>Steps Used to Draw the Triangle<a class="headerlink" href="#steps-used-to-draw-the-triangle" title="Link to this heading">#</a></h2>
<p>Now that we have successfully drawn a triangle, let’s recap the steps we used.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#triangle-coordinates-section"><span class="std std-ref">Define the Triangle Co-ordinates</span></a> - we defined a 9-element array that contained the <span class="math notranslate nohighlight">\((x, y, z)\)</span> co-ordinates of the 3 triangle vertices.</p></li>
<li><p><a class="reference internal" href="#lab01-triangle-buffer"><span class="std std-ref">Create a Vertex Buffer Object (VBO) for the Triangle</span></a> - the buffer objects are stored in the GPU so we needed to create one for the triangle and copy across the triangle co-ordinates so WebGL can work with them.</p></li>
<li><p><a class="reference internal" href="#lab01-vertex-shader"><span class="std std-ref">Write and Compile the Vertex Shader</span></a> - a vertex shader is used to transform the vertex co-ordinates to the clip space. The output is sent to the WebGL rasteriser that passes the fragment co-ordinates to the fragment shader.</p></li>
<li><p><a class="reference internal" href="#lab01-fragment-shader"><span class="std std-ref">Write and Compile the Fragment Shader</span></a> - a fragment shader is used to determine the colour that the fragment should be rendered on the display.</p></li>
<li><p><a class="reference internal" href="#lab01-webgl-program"><span class="std std-ref">Link the Shaders into a WebGL Program</span></a> - the vertex and fragment shaders are linked into a single program that we tell WebGL to use to draw the triangle.</p></li>
<li><p><a class="reference internal" href="#lab01-draw-triangle"><span class="std std-ref">Draw the Triangle</span></a> - we need to tell WebGL how to access the data in the triangle buffer and instruct it to draw the triangle.</p></li>
</ol>
</section>
<hr class="docutils" />
<section id="shader-compiler-utility-functions">
<h2>Shader Compiler Utility Functions<a class="headerlink" href="#shader-compiler-utility-functions" title="Link to this heading">#</a></h2>
<p>Looking at our <code class="docutils literal notranslate"><span class="pre">main()</span></code> function we see that the code to compile and link the shaders is very similar for the vertex and fragment shaders. In the spirit of DRY, we will now write some utility functions to simplify the code.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Create a new JavaScript files called <em><strong>webGLUtils.js</strong></em> within the <em><strong>01 Hello Triangle/</strong></em> folder and enter the following code.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compile shader helper function</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">compileShader</span><span class="p">(</span><span class="nx">gl</span><span class="p">,</span><span class="w"> </span><span class="nx">type</span><span class="p">,</span><span class="w"> </span><span class="nx">code</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">shader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">createShader</span><span class="p">(</span><span class="nx">type</span><span class="p">);</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">shaderSource</span><span class="p">(</span><span class="nx">shader</span><span class="p">,</span><span class="w"> </span><span class="nx">code</span><span class="p">);</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">compileShader</span><span class="p">(</span><span class="nx">shader</span><span class="p">);</span>
<span class="w">  </span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">gl</span><span class="p">.</span><span class="nx">getShaderParameter</span><span class="p">(</span><span class="nx">shader</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">COMPILE_STATUS</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Error compiling </span><span class="si">${</span><span class="nx">shaderType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">VERTEX_SHADER</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;vertex&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;fragment&#39;</span><span class="si">}</span><span class="sb"> shader:\n`</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">getShaderInfoLog</span><span class="p">(</span><span class="nx">shader</span><span class="p">));</span>
<span class="w">    </span><span class="nx">gl</span><span class="p">.</span><span class="nx">deleteShader</span><span class="p">(</span><span class="nx">shader</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">shader</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Link shaders into a shader program</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">createShaderProgram</span><span class="p">(</span><span class="nx">gl</span><span class="p">,</span><span class="w"> </span><span class="nx">vertexShaderSource</span><span class="p">,</span><span class="w"> </span><span class="nx">fragmentShaderSource</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">vertexShader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">compileShader</span><span class="p">(</span><span class="nx">gl</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">VERTEX_SHADER</span><span class="p">,</span><span class="w"> </span><span class="nx">vertexShaderSource</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">fragmentShader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">compileShader</span><span class="p">(</span><span class="nx">gl</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">FRAGMENT_SHADER</span><span class="p">,</span><span class="w"> </span><span class="nx">fragmentShaderSource</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">vertexShader</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">fragmentShader</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">shaderProgram</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">createProgram</span><span class="p">();</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">attachShader</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">,</span><span class="w"> </span><span class="nx">vertexShader</span><span class="p">);</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">attachShader</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">,</span><span class="w"> </span><span class="nx">fragmentShader</span><span class="p">);</span>
<span class="w">  </span><span class="nx">gl</span><span class="p">.</span><span class="nx">linkProgram</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">gl</span><span class="p">.</span><span class="nx">getProgramParameter</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">LINK_STATUS</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Error linking shader program:\n&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">gl</span><span class="p">.</span><span class="nx">getProgramInfoLog</span><span class="p">(</span><span class="nx">shaderProgram</span><span class="p">));</span>
<span class="w">    </span><span class="nx">gl</span><span class="p">.</span><span class="nx">deleteProgram</span><span class="p">(</span><span class="nx">program</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">shaderProgram</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>This new file <em><strong>webGLUtils.js</strong></em> is used to contain any utility (helper) functions that are required for WebGL. Here we have defined the functions <code class="docutils literal notranslate"><span class="pre">compileShader()</span></code> which compiles a vertex or fragment shader depending on the <code class="docutils literal notranslate"><span class="pre">type</span></code> input, and <code class="docutils literal notranslate"><span class="pre">createShaderProgram()</span></code> that calls <code class="docutils literal notranslate"><span class="pre">compileShader()</span></code> to create the vertex and fragment shaders and links them to create a WebGL program. If you compare them to the equivalent code in the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function you can see that they are similar. To enable our main file to use these functions we also need to add <code class="docutils literal notranslate"><span class="pre">utils.js</span></code> to the <em><strong>index.html</strong></em> file using a script tag.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Add the following just before the <code class="docutils literal notranslate"><span class="pre">hello_triangle.js</span></code> script tag.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> &lt;script src=&quot;webGLUtils.js&quot;&gt;&lt;/script&gt;
</pre></div>
</div>
</div>
<p>We can now tidy up the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function and make a call to out new <code class="docutils literal notranslate"><span class="pre">createShaderProgram()</span></code> function.</p>
<div class="tip admonition">
<p class="admonition-title">Task</p>
<p>Cut and paste the <code class="docutils literal notranslate"><span class="pre">vertexShaderSource</span></code> and <code class="docutils literal notranslate"><span class="pre">fragmentShaderSource</span></code> to the top of the <em><strong>hello_triangle.js</strong></em> file. Delete the code in the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function that compiles and links the shaders and replace it with the following.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create WebGL program </span>
<span class="kd">const</span><span class="w"> </span><span class="nx">shaderProgram</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createShaderProgram</span><span class="p">(</span><span class="nx">gl</span><span class="p">,</span><span class="w"> </span><span class="nx">vertexShaderSource</span><span class="p">,</span><span class="w"> </span><span class="nx">fragmentShaderSource</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>Refresh your browser window and if everything has gone to plan you should see your red triangle as before. This effort is not wasted, we can now easily create WebGL programs from the source code without lots of copying and pasting of existing code. We will be using the <em><strong>webGLUtils.js</strong></em> and other JavaScript files to help organise and simplify our code in the future.</p>
</section>
<hr class="docutils" />
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Change the vertex shader so that the following results are achieved.</p></li>
</ol>
<p>  (a) The triangle is shifted by 0.75 to the right.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/01_ex1a.png"><img alt="../_images/01_ex1a.png" src="../_images/01_ex1a.png" style="width: 60%;" />
</a>
</figure>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Hint</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">We can access individual elements of the <code class="docutils literal notranslate"><span class="pre">aPosition</span></code> vectors using <code class="docutils literal notranslate"><span class="pre">aPosition.x</span></code>, <code class="docutils literal notranslate"><span class="pre">aPosition.y</span></code> and <code class="docutils literal notranslate"><span class="pre">aPosition.z</span></code> – this is known as <a href="https://wikis.khronos.org/opengl/Data_Type_(GLSL)#Swizzling" target="_blank">swizzling</a>.</p>
</div>
</details><p>  (b) The triangle is drawn upside-down.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/01_ex1b.png"><img alt="../_images/01_ex1b.png" src="../_images/01_ex1b.png" style="width: 60%;" />
</a>
</figure>
<p>  (c) The <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> co-ordinates are swapped.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/01_ex1c.png"><img alt="../_images/01_ex1c.png" src="../_images/01_ex1c.png" style="width: 60%;" />
</a>
</figure>
<ol class="arabic simple" start="2">
<li><p>Use two triangles to draw a green rectangle with lower-left vertex at <span class="math notranslate nohighlight">\((-0.5, -0.5, 0)\)</span> and the upper-right vertex at <span class="math notranslate nohighlight">\((0.5, 0.5, 0)\)</span>.</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/01_ex2.png"><img alt="../_images/01_ex2.png" src="../_images/01_ex2.png" style="width: 60%;" />
</a>
</figure>
<ol class="arabic simple" start="3">
<li><p>Use triangles to draw a blue hexagon.</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/01_ex3.png"><img alt="../_images/01_ex3.png" src="../_images/01_ex3.png" style="width: 60%;" />
</a>
</figure>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Hint</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">We can draw a hexagon using 6 triangles where each triangle has one vertex at <span class="math notranslate nohighlight">\((0,0,0)\)</span> and two outer vertices that lie on the circumference of a circle.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/01_hexagon.svg"><img alt="../_images/01_hexagon.svg" src="../_images/01_hexagon.svg" style="width: 450px;" />
</a>
</figure>
<p class="sd-card-text">The <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> vertices of the two outer vertices are</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align*}
  x_i &amp;= r \cos(\theta_i), &amp; y_i &amp;= r \sin(\theta_i), \\
  x_{i+1} &amp;= r \cos(\theta_{i+1}), &amp; y_{i+1} &amp;= r \sin(\theta_{i+1}),
\end{align*}\end{split}\]</div>
<p class="sd-card-text">where <span class="math notranslate nohighlight">\(r\)</span> is the radius and the angles <span class="math notranslate nohighlight">\(\theta_i\)</span> and <span class="math notranslate nohighlight">\(\theta_{i+1}\)</span> are calculated using</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align*}
  \theta_i &amp;= \frac{i2\pi}{6}, \\
  \theta_{i+1} &amp;= \frac{(i+1)2\pi}{6}.
\end{align*}\end{split}\]</div>
</div>
</details><ol class="arabic simple" start="4">
<li><p>Use lots of triangles to draw a yellow circle.</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/01_ex4.png"><img alt="../_images/01_ex4.png" src="../_images/01_ex4.png" style="width: 60%;" />
</a>
</figure>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./_pages"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Computer Graphics</p>
      </div>
    </a>
    <a class="right-next"
       href="02_Colours.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lab 2: Colours</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-html-and-javascript-files">Setup HTML and JavaScript Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-a-red-triangle">Draw a Red Triangle</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-the-triangle-co-ordinates">Define the Triangle Co-ordinates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-vertex-buffer-object-vbo-for-the-triangle">Create a Vertex Buffer Object (VBO) for the Triangle</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-and-compile-the-vertex-shader">Write and Compile the Vertex Shader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-and-compile-the-fragment-shader">Write and Compile the Fragment Shader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#link-the-shaders-into-a-webgl-program">Link the Shaders into a WebGL Program</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-the-triangle">Draw the Triangle</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#steps-used-to-draw-the-triangle">Steps Used to Draw the Triangle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-compiler-utility-functions">Shader Compiler Utility Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dr Jon Shiach
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2026.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>