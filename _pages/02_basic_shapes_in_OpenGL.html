

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>2. Basic Shapes in OpenGL &#8212; Computer Graphics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"model": ["M\\!odel"], "view": ["V\\!iew"], "mvp": ["MV\\!P"]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_pages/02_basic_shapes_in_OpenGL';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Textures" href="03_textures.html" />
    <link rel="prev" title="1. Introduction to C++" href="01_intro_to_cpp.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Computer Graphics
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_intro_to_cpp.html">1. Introduction to C++</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. Basic Shapes in OpenGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_textures.html">3. Textures</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_vectors_and_matrices.html">4. Vectors and Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_transformations.html">5. Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_3D_worlds.html">6. 3D Worlds</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_Moving_the_camera.html">7. Moving the camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_Lighting.html">8. Lighting</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_Normal_mapping.html">9. Normal Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_Quaternions.html">10. Quaternions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="A_Complex_numbers_and_quaternions.html">Complex Numbers and Quaternions</a></li>
<li class="toctree-l1"><a class="reference internal" href="C_Glossary.html">Glossary</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jonshiach/graphics-labs" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jonshiach/graphics-labs/issues/new?title=Issue%20on%20page%20%2F_pages/02_basic_shapes_in_OpenGL.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/_pages/02_basic_shapes_in_OpenGL.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Basic Shapes in OpenGL</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#define-a-triangle">2.1. Define a triangle</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vertex-array-object-vao">2.1.1. Vertex Array Object (VAO)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vertex-buffer-object-vbo">2.1.2. Vertex Buffer Object (VBO)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#shaders">2.2. Shaders</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vertex-shader">2.2.1. Vertex shader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fragment-shader">2.2.2. Fragment shader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-program">2.2.3. Shader program</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-the-triangle">2.3. Draw the triangle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-colours">2.4. More colours</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-another-triangle">2.5. Adding another triangle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">2.6. Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#video-walkthrough">2.7. Video walkthrough</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="basic-shapes-in-opengl">
<span id="basic-shapes-section"></span><h1><span class="section-number">2. </span>Basic Shapes in OpenGL<a class="headerlink" href="#basic-shapes-in-opengl" title="Permalink to this heading">#</a></h1>
<p>In this lab we will be creating our first graphics application in OpenGL. If you haven’t already done so, download and build the project files using the instructions given in <a class="reference internal" href="01_intro_to_cpp.html#getting-the-files-section"><span class="std std-ref">1. Introduction to C++</span></a>. Compile and run the project <strong>Lab02_Basic_shapes</strong>:</p>
<ul class="simple">
<li><p><strong>Visual Studio</strong> – right click on the <strong>Lab02_Basic_shapes+</strong> project in the project viewer on the right-hand side of the window and select ‘Set as Startup Project’.</p></li>
<li><p><strong>Xcode</strong> – click on the project select dropdown at the top of the window and select <strong>Lab02_Basic_shapes</strong> from the list of projects (there are quite a few to choose from but it’s there).</p></li>
</ul>
<p>If all has gone to plan you should be looking at a boring window with a grey background shown in <a class="reference internal" href="#hello-window-figure"><span class="std std-numref">Fig. 2.1</span></a>. Familiarise yourself with the source files. For now, this contains the main C++ program <strong>Lab02_Basic_shapes.cpp</strong> in the <strong>source/</strong> folder, the header file <strong>shader.hpp</strong> in the <strong>headers/</strong> folder and associated code file <strong>shader.cpp</strong> in the <strong>source/</strong> folder.</p>
<figure class="align-default" id="hello-window-figure">
<a class="reference internal image-reference" href="../_images/02_hello_window.png"><img alt="../_images/02_hello_window.png" src="../_images/02_hello_window.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.1 </span><span class="caption-text">The “hello window” example (boring isn’t it)</span><a class="headerlink" href="#hello-window-figure" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>You can terminate your application by pressing the escape key or simply closing the window.</p>
<hr class="docutils" />
<section id="define-a-triangle">
<h2><span class="section-number">2.1. </span>Define a triangle<a class="headerlink" href="#define-a-triangle" title="Permalink to this heading">#</a></h2>
<p>As you will probably agree, creating a plain grey window isn’t the most interesting of applications. What would make it much more exciting is to draw simple shapes in the window. The simplest shape, and one which we use extensively in computer graphics, is a triangle. We are going to draw the triangle from <a class="reference internal" href="#red-triangle-figure"><span class="std std-numref">Fig. 2.2</span></a>.</p>
<figure class="align-default" id="red-triangle-figure">
<a class="reference internal image-reference" href="../_images/02_opengl_window.svg"><img alt="../_images/02_opengl_window.svg" src="../_images/02_opengl_window.svg" width="500" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.2 </span><span class="caption-text">The vertices of our triangle.</span><a class="headerlink" href="#red-triangle-figure" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>OpenGL expects the <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span> co-ordinates of all vertices to be between <span class="math notranslate nohighlight">\(-1\)</span> and <span class="math notranslate nohighlight">\(1\)</span> where the <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> axes point to the right and up respectively and the <span class="math notranslate nohighlight">\(z\)</span>-axis points out from the screen. For now we are going to draw a triangle with vertex co-ordinates <span class="math notranslate nohighlight">\((-0.5,-0.5,0)\)</span>, <span class="math notranslate nohighlight">\((0.5,-0.5,0)\)</span> and <span class="math notranslate nohighlight">\((0,0.5,0)\)</span> for the bottom-left, bottom-right and top vertices respectively.</p>
<p>The first change we are going to make to our program is to define an array containing the triangle vertices. Enter the following code into the <strong>Lab02_Basic_shapes.cpp</strong> file after the window has been created.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define vertices</span>
<span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">vertices</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// x     y     z</span>
<span class="w">    </span><span class="mf">-0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">     </span><span class="mf">0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">     </span><span class="mf">0.0f</span><span class="p">,</span><span class="w">  </span><span class="mf">0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span>
<span class="p">};</span>
</pre></div>
</div>
<section id="vertex-array-object-vao">
<h3><span class="section-number">2.1.1. </span>Vertex Array Object (VAO)<a class="headerlink" href="#vertex-array-object-vao" title="Permalink to this heading">#</a></h3>
<p>OpenGL uses <strong>Buffer Objects (BO)</strong> to store information about the objects that we are going to draw in our application. The main buffer object we use is a <a href="https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object" target="_blank"><strong>Vertex Array Object (VAO)</strong></a> which is a container for the attributes of a vertex. The VAO itself does not actually contain any data, instead it contains references to other buffer objects, e.g., the VBO (see below). To create a VAO enter the following into your <strong>Lab02_Basic_shapes.cpp</strong> file after the <code class="docutils literal notranslate"><span class="pre">vertices</span></code> array.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create the Vertex Array Object (VAO)</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">VAO</span><span class="p">;</span>
<span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">VAO</span><span class="p">);</span>
<span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">VAO</span><span class="p">);</span>
</pre></div>
</div>
<p>The functions used here are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">glGenVertexArrays()</span></code> generates a VAO with the name <code class="docutils literal notranslate"><span class="pre">VAO</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">glBindVertexArray()</span></code> binds the VAO (so that OpenGL knows that we are working with this current VAO)</p></li>
</ul>
</section>
<section id="vertex-buffer-object-vbo">
<span id="vbo-section"></span><h3><span class="section-number">2.1.2. </span>Vertex Buffer Object (VBO)<a class="headerlink" href="#vertex-buffer-object-vbo" title="Permalink to this heading">#</a></h3>
<p>The next buffer object we need is the <a href="https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object" target="_blank"><strong>Vertex Buffer Object (VBO)</strong></a> which is used to store the vertex co-ordinates of our triangle which are currently stored in the <code class="docutils literal notranslate"><span class="pre">vertices</span></code> array. Enter the following after we’ve created and bound the VAO.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create Vertex Buffer Object (VBO)</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">VBO</span><span class="p">;</span>
<span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">VBO</span><span class="p">);</span>
<span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="n">VBO</span><span class="p">);</span>
<span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">vertices</span><span class="p">),</span><span class="w"> </span><span class="n">vertices</span><span class="p">,</span><span class="w"> </span><span class="n">GL_STATIC_DRAW</span><span class="p">);</span>
</pre></div>
</div>
<p>The functions used here are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">glGenBuffers()</span></code> generates a buffer object with the name <code class="docutils literal notranslate"><span class="pre">VBO</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">glBindBuffer()</span></code> binds the VBO to <code class="docutils literal notranslate"><span class="pre">GL_ARRAY_BUFFER</span></code> which tells OpenGL that the VBO contains vertex attributes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">glBufferData()</span></code> creates a new data store for the VBO, tells OpenGL where to find the data that is to be stored in the VBO and what it is to be used for (<code class="docutils literal notranslate"><span class="pre">GL_STATIC_DRAW</span></code> means the data is not going to be modified)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="shaders">
<h2><span class="section-number">2.2. </span>Shaders<a class="headerlink" href="#shaders" title="Permalink to this heading">#</a></h2>
<p>Now we have defined our triangle vertices and created the VAO and VBO we now need to tell OpenGL how to display the triangle. This is done using a <strong>shader</strong> program that OpenGL uses to tell it how to display each pixel in our window. The shader programs are written in <a href="https://www.khronos.org/opengl/wiki/Core_Language_(GLSL)" target="_blank"><strong>GLSL (OpenGL Shader Language)</strong></a> which is a language similar to C.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/02_shaders.svg"><img alt="../_images/02_shaders.svg" src="../_images/02_shaders.svg" width="600" /></a>
</figure>
<p>A basic shader program consists of two separate programs: a <a href="https://www.khronos.org/opengl/wiki/Vertex_Shader" target="_blank"><strong>vertex shader</strong></a> and a <a href="https://www.khronos.org/opengl/wiki/Fragment_Shader" target="_blank"><strong>fragment shader</strong></a>. The vertex shader is called by OpenGL once for each vertex and calculates the position of the current vertex and stores it in a special GLSL vector called <code class="docutils literal notranslate"><span class="pre">gl_Position</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">gl_Position</span></code> values are passed to the rasteriser which determines the <a href="https://www.khronos.org/opengl/wiki/Fragment" target="_blank"><strong>fragments</strong></a> that forms the shape defined by the vertices. The fragment shader is called once for each fragment and is used to determine the colour of the fragment that is sent to the display.</p>
<p>The shaders are compiled by the application at runtime, we need to write the vertex and fragment shaders and tell OpenGL which shaders we want to use.</p>
<section id="vertex-shader">
<span id="vertex-shader-section"></span><h3><span class="section-number">2.2.1. </span>Vertex shader<a class="headerlink" href="#vertex-shader" title="Permalink to this heading">#</a></h3>
<p>Open the file <strong>vertexShader.glsl</strong> in the <strong>Lab02_Basic_shapes</strong> project in the project explorer. At the moment this is a blank file so enter the following program in this.</p>
<div class="highlight-glsl notranslate"><div class="highlight"><pre><span></span><span class="cp">#version 330 core</span>

<span class="k">layout</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mo">0</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">vec3</span><span class="w"> </span><span class="n">position</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Output vertex position</span>
<span class="w">    </span><span class="nb">gl_Position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec4</span><span class="p">(</span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is the GLSL program for a simple vertex shader. It takes in a single 3-element vector <code class="docutils literal notranslate"><span class="pre">position</span></code> that contains the <span class="math notranslate nohighlight">\((x,y,z)\)</span> co-ordinates of a vertex and outputs the 4-element vector <code class="docutils literal notranslate"><span class="pre">gl_Position</span></code> containing the these co-ordinates. You may be wondering why <code class="docutils literal notranslate"><span class="pre">gl_Position</span></code> is a 4-element vector with an additional 1 and not a 3-element vector, don’t worry about this for now it will be explained <a class="reference internal" href="05_transformations.html#translation-section"><span class="std std-ref">later on</span></a>.</p>
</section>
<section id="fragment-shader">
<h3><span class="section-number">2.2.2. </span>Fragment shader<a class="headerlink" href="#fragment-shader" title="Permalink to this heading">#</a></h3>
<p>Open the file <strong>fragmentShader.glsl</strong> from the project explorer and enter the following program.</p>
<div class="highlight-glsl notranslate"><div class="highlight"><pre><span></span><span class="cp">#version 330 core</span>

<span class="k">out</span><span class="w"> </span><span class="kt">vec3</span><span class="w"> </span><span class="n">colour</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec3</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// RGB</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This fragment shader outputs a single 3-element vector called <code class="docutils literal notranslate"><span class="pre">colour</span></code> which defines the colour of the fragment using the <a href="https://en.wikipedia.org/wiki/RGB_color_model" target="_blank">RGB colour model</a>. Each colour in the visible spectrum can be defined using a combination of the three primary colours, red, green and blue. The amount of each of the primary colours is given by a value in range 0 to 1. Here we have defined the <code class="docutils literal notranslate"><span class="pre">colour</span></code> vector using red = 1, blue = 0, green = 0 so our fragment (and all fragments in the triangle) will be rendered in red.</p>
</section>
<section id="shader-program">
<h3><span class="section-number">2.2.3. </span>Shader program<a class="headerlink" href="#shader-program" title="Permalink to this heading">#</a></h3>
<p>We now need to combine the vertex and fragment shaders into a single shader program. To do this we are going use the function <code class="docutils literal notranslate"><span class="pre">LoadShaders()</span></code> written by contributors of <a href = "https://www.opengl-tutorial.org" target="_blank">opengl-tutorial.org</a>. In the <strong>Lab02_Basic_shapes.cpp</strong> file enter the following after you have created the VAO.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compile shader program</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">shaderID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LoadShaders</span><span class="p">(</span><span class="s">&quot;vertexShader.glsl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fragmentShader.glsl&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>This code creates a program object which will be referred to by the integer <code class="docutils literal notranslate"><span class="pre">shaderID</span></code>. Now that we have an ID for our shader programs, we need to instruct OpenGL to use it. To do this enter the following code</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Use the shader program</span>
<span class="n">glUseProgram</span><span class="p">(</span><span class="n">shaderID</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="draw-the-triangle">
<h2><span class="section-number">2.3. </span>Draw the triangle<a class="headerlink" href="#draw-the-triangle" title="Permalink to this heading">#</a></h2>
<p>So we have created the VAO and VBO, written the shaders qand compiled the shader program, so we can now draw our triangle. The commands used to render a frame are contained in a while loop known as a <strong>render loop</strong>. This loop will continue until the window is closed or the escape key is pressed.</p>
<p>We need to bind the VBO to the VAO and tell OpenGL where to find this data. To do this add the following code after clearing the window</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Send the VBO to the shaders</span>
<span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="n">VBO</span><span class="p">);</span>
<span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w">         </span><span class="c1">// attribute</span>
<span class="w">                      </span><span class="mi">3</span><span class="p">,</span><span class="w">         </span><span class="c1">// size</span>
<span class="w">                      </span><span class="n">GL_FLOAT</span><span class="p">,</span><span class="w">  </span><span class="c1">// type</span>
<span class="w">                      </span><span class="n">GL_FALSE</span><span class="p">,</span><span class="w">  </span><span class="c1">// normalise?</span>
<span class="w">                      </span><span class="mi">0</span><span class="p">,</span><span class="w">         </span><span class="c1">// stride</span>
<span class="w">                      </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// offset</span>
</pre></div>
</div>
<p>The three functions we’ve used here are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">glEnableVertexAttribArray()</span></code> enables a generic vertex array so we can pass our triangle data to OpenGL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">glBindBuffer()</span></code> binds our VBO to an array buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">glVertexAttribPointer()</span></code> tells OpenGL how to interpret the data we are sending it</p></li>
</ul>
<p>The input arguments for the <code class="docutils literal notranslate"><span class="pre">glVertexAttribPointer()</span></code> function are explained below</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Argument</p></th>
<th class="head text-left"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Attribute</p></td>
<td class="text-left"><p>A number that defines which vertex attribute we want to configure. In the vertex shader we used <code class="docutils literal notranslate"><span class="pre">location</span> <span class="pre">=</span> <span class="pre">0</span></code> for the vertex co-ordinates and since we are passing vertex co-ordinates, we set the attribute to 0.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Size</p></td>
<td class="text-left"><p>How many values does the vertex attribute have. Here we have <span class="math notranslate nohighlight">\((x,y,z)\)</span> co-ordinates, so this is 3.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Type</p></td>
<td class="text-left"><p>Our co-ordinates are floats.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Normalise</p></td>
<td class="text-left"><p>We have already set out vertex co-ordinates in NDC (i.e., in the range <span class="math notranslate nohighlight">\(-1\)</span> to <span class="math notranslate nohighlight">\(1\)</span>) so we set this to false.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Stride</p></td>
<td class="text-left"><p>The space between consecutive vertex attributes. Here one vertex immediately follows the next, so this is zero.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Offset</p></td>
<td class="text-left"><p>Where does the first data point appear in the buffer? For us this is at the beginning, so we set it to <span class="math notranslate nohighlight">\(0\)</span>.</p></td>
</tr>
</tbody>
</table>
<p>Now we instruct OpenGL to draw the triangle, add the following code.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Draw the triangle</span>
<span class="n">glDrawArrays</span><span class="p">(</span><span class="n">GL_TRIANGLES</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">glDisableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p>The functions used here are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">glDrawArrays()</span></code> tells OpenGL to draw whatever data is defined in the VAO. The first argument <code class="docutils literal notranslate"><span class="pre">GL_TRIANGLES</span></code> tells OpenGL that we want to draw a triangle, the second argument <code class="docutils literal notranslate"><span class="pre">0</span></code> specifies that the first vertex starts at the 0 index in the buffer and the third argument <code class="docutils literal notranslate"><span class="pre">3</span></code> specifies that we have 3 vertices.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">glDisableVertexAttribArray(0)</span></code> disables the vertex array containing the VBO since it is no longer needed. The input argument  <code class="docutils literal notranslate"><span class="pre">0</span></code> is the attribute number used in the <code class="docutils literal notranslate"><span class="pre">glEnableAttribArray()</span></code> function.</p></li>
</ul>
<p>Don’t get too excited just yet. As good programmers we should clean up after ourselves and not leave bits of data lying around. After the close of the do/while loop we de-allocate the vertex and buffer objects as well as deleting the shader program.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Cleanup</span>
<span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">VBO</span><span class="p">);</span>
<span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">VAO</span><span class="p">);</span>
<span class="n">glDeleteProgram</span><span class="p">(</span><span class="n">shaderID</span><span class="p">);</span>
</pre></div>
</div>
<p>Compile and run your program. After all the syntax errors and bugs have been resolved (unless you are very lucky there will be at least one) you should be presented with a window within which is your red triangle that you have created.</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../_images/02_hello_triangle.png"><img alt="../_images/02_hello_triangle.png" src="../_images/02_hello_triangle.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.3 </span><span class="caption-text">The “hello triangle” example</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<hr class="docutils" />
<section id="more-colours">
<h2><span class="section-number">2.4. </span>More colours<a class="headerlink" href="#more-colours" title="Permalink to this heading">#</a></h2>
<p>After basking in the glory of your achievements for a few minutes the initial excitement may begin to wane, and your natural curiosity will cause you to wonder whether we can use more than one colour. Well of course, all we need to do is tell OpenGL what colours we want to use for each vertex.</p>
<p>Create an array that contains RGB colour data for each vertex by entering the following code after we created the <code class="docutils literal notranslate"><span class="pre">vertices</span></code> array.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define vertex colours</span>
<span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">colours</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// R   G     B</span>
<span class="w">    </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">    </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">    </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Here we have assigned the colour red to the first (bottom-left) vertex, green to the second (bottom-right) vertex and blue to the third (top) vertex. Like we did with the vertex buffer, we need to create and bind a buffer for the colours.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create colour buffer</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">colourBuffer</span><span class="p">;</span>
<span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">colourBuffer</span><span class="p">);</span>
<span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="n">colourBuffer</span><span class="p">);</span>
<span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">colours</span><span class="p">),</span><span class="w"> </span><span class="n">colours</span><span class="p">,</span><span class="w"> </span><span class="n">GL_STATIC_DRAW</span><span class="p">);</span>
</pre></div>
</div>
<p>And where we draw the triangle, we also need to bind the colour buffer to the VAO so it can be sent to the shaders.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Send the colour buffer to the shaders</span>
<span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span><span class="w"> </span><span class="n">colourBuffer</span><span class="p">);</span>
<span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">GL_FLOAT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_FALSE</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p>You will notice that this code is very similar to the code used to send the VBO to the shader. Here we have use the attribute <code class="docutils literal notranslate"><span class="pre">1</span></code> for the colour buffer, if we had used <code class="docutils literal notranslate"><span class="pre">0</span></code> this would have overwritten the VBO.</p>
<p>If you were to compile and run your program, you might be a little disappointed as your triangle is still red. Well of course, we haven’t told our shaders how to handle colours! Since our colours are associated with the vertices we need to modify the vertex shader to include the colours.</p>
<div class="highlight-glsl notranslate"><div class="highlight"><pre><span></span><span class="cp">#version 330 core</span>

<span class="k">layout</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mo">0</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">vec3</span><span class="w"> </span><span class="n">position</span><span class="p">;</span>
<span class="k">layout</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">vec3</span><span class="w"> </span><span class="n">colour</span><span class="p">;</span>

<span class="k">out</span><span class="w"> </span><span class="kt">vec3</span><span class="w"> </span><span class="n">fragmentColour</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Output vertex position</span>
<span class="w">    </span><span class="nb">gl_Position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec4</span><span class="p">(</span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Output vertex colour</span>
<span class="w">    </span><span class="n">fragmentColour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">colour</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here our vertex shader is a little more sophisticated than before. We’ve added another attribute with <code class="docutils literal notranslate"><span class="pre">location</span> <span class="pre">=</span> <span class="pre">1</span></code> (the same attribute number used in the <code class="docutils literal notranslate"><span class="pre">glVertexAttribPointer()</span></code> function) for the colour data which is a 3-element vector. Also, since we need to pass the colour data to the fragment shader we need to output it from the vertex shader. We don’t need to do this for he vertex data as <code class="docutils literal notranslate"><span class="pre">gl_Position</span></code> is outputted automatically.</p>
<p>We also need to modify the fragment shader to take in the fragment colour calculated by the rasteriser and output it to the display.</p>
<div class="highlight-glsl notranslate"><div class="highlight"><pre><span></span><span class="cp">#version 330 core</span>

<span class="k">in</span><span class="w"> </span><span class="kt">vec3</span><span class="w"> </span><span class="n">fragmentColour</span><span class="p">;</span>

<span class="k">out</span><span class="w"> </span><span class="kt">vec3</span><span class="w"> </span><span class="n">colour</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fragmentColour</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Compile and run your program and if everything has gone to plan you should be presented with your new triangle in all its colourful snazzy goodness. Notice how the pixels in between the three vertex pixels have been shaded a colour which are combinations of the three vertex colours red, green and blue. OpenGL has interpolated the colours across the triangle.</p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../_images/02_hello_snazzy_triangle.png"><img alt="../_images/02_hello_snazzy_triangle.png" src="../_images/02_hello_snazzy_triangle.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.4 </span><span class="caption-text">Our snazzy triangle.</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<hr class="docutils" />
<section id="adding-another-triangle">
<h2><span class="section-number">2.5. </span>Adding another triangle<a class="headerlink" href="#adding-another-triangle" title="Permalink to this heading">#</a></h2>
<p>What could be better than one triangle? Well two triangles of course. Fortunately since we have done all of the grunt work in setting up the buffers for a single triangle adding another is a simple matter of defining the vertex co-ordinates and vertex colours for the additional triangle. Modify the <code class="docutils literal notranslate"><span class="pre">vertices</span></code> and <code class="docutils literal notranslate"><span class="pre">colours</span></code> arrays to the following.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define vertices</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">vertices</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mf">-0.9f</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w">   </span><span class="c1">// triangle 1</span>
<span class="w">    </span><span class="mf">-0.1f</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">    </span><span class="mf">-0.5f</span><span class="p">,</span><span class="w">  </span><span class="mf">0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">     </span><span class="mf">0.1f</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w">   </span><span class="c1">// triangle 2</span>
<span class="w">     </span><span class="mf">0.9f</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">     </span><span class="mf">0.5f</span><span class="p">,</span><span class="w">  </span><span class="mf">0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span>
<span class="p">};</span>

<span class="c1">// Define vertex colours</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">colours</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w">    </span><span class="c1">// triangle 1 (red)</span>
<span class="w">    </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">    </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span>
<span class="w">    </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w">    </span><span class="c1">// triangle 2 (blue)</span>
<span class="w">    </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span>
<span class="w">    </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Here the <code class="docutils literal notranslate"><span class="pre">vertices</span></code> array now defines six vertices for two triangles placed side-by-side. The <code class="docutils literal notranslate"><span class="pre">colours</span></code> array defines the first three vertices red and the second three set of vertices blue.</p>
<p>We also need to instruct OpenGL to draw two triangles instead of one. To do this we change the number of vertices we want to draw from <code class="docutils literal notranslate"><span class="pre">3</span></code> to the number of vertices we have. Since each vertex has 3 co-ordinates <span class="math notranslate nohighlight">\((x, y, z)\)</span> and each co-ordinate is a single <code class="docutils literal notranslate"><span class="pre">float</span></code> then we can calculate the number of vertices we have by dividing <code class="docutils literal notranslate"><span class="pre">sizeof(vertices)</span></code> by <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">sizeof(float)</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Draw the triangles</span>
<span class="n">glDrawArrays</span><span class="p">(</span><span class="n">GL_TRIANGLES</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">)));</span>
</pre></div>
</div>
<p>Compiling and running the executable results in the following.</p>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="../_images/02_two_triangles.png"><img alt="../_images/02_two_triangles.png" src="../_images/02_two_triangles.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.5 </span><span class="caption-text">Two triangles</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<hr class="docutils" />
<section id="exercises">
<h2><span class="section-number">2.6. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<p>Now that you’ve got to the stage where you can draw triangles to the screen and alter the colours lets see if you can do the following.</p>
<ol class="arabic simple">
<li><p>Draw the original triangle but alter the <strong>vertex shader</strong> to achieve the following results:</p></li>
</ol>
<p>   (a) the triangle is shifted by 0.5 to the right;</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/02_Ex1a.png"><img alt="../_images/02_Ex1a.png" src="../_images/02_Ex1a.png" style="width: 400px;" /></a>
</figure>
<p>   (b) the triangle is drawn upside-down;</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/02_Ex1b.png"><img alt="../_images/02_Ex1b.png" src="../_images/02_Ex1b.png" style="width: 400px;" /></a>
</figure>
<p>   (c) the triangle <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> co-ordinates are swapped.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/02_Ex1c.png"><img alt="../_images/02_Ex1c.png" src="../_images/02_Ex1c.png" style="width: 400px;" /></a>
</figure>
<ol class="arabic simple" start="2">
<li><p>Use two triangles to draw a green rectangle where the lower-left corner has co-ordinates <span class="math notranslate nohighlight">\((-0.5, -0.5, 0.0)\)</span> and the upper-right corner has co-ordinates <span class="math notranslate nohighlight">\((0.5, 0.5, 0.0)\)</span>.</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/02_Ex2.png"><img alt="../_images/02_Ex2.png" src="../_images/02_Ex2.png" style="width: 400px;" /></a>
</figure>
<ol class="arabic simple" start="3">
<li><p>Draw the Umbrella Corporation logo (from the <a href="https://en.wikipedia.org/wiki/Resident_Evil" target="_blank">Resident Evil</a> game series) using 8 triangles.</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/02_Ex3.png"><img alt="../_images/02_Ex3.png" src="../_images/02_Ex3.png" style="width: 400px;" /></a>
</figure>
</section>
<hr class="docutils" />
<section id="video-walkthrough">
<h2><span class="section-number">2.7. </span>Video walkthrough<a class="headerlink" href="#video-walkthrough" title="Permalink to this heading">#</a></h2>
<p>The video below walks you through these lab materials.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wcuxN9Np-fA?si=fG6DIPo9TH2nOZtV" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./_pages"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="01_intro_to_cpp.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Introduction to C++</p>
      </div>
    </a>
    <a class="right-next"
       href="03_textures.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Textures</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#define-a-triangle">2.1. Define a triangle</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vertex-array-object-vao">2.1.1. Vertex Array Object (VAO)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vertex-buffer-object-vbo">2.1.2. Vertex Buffer Object (VBO)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#shaders">2.2. Shaders</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vertex-shader">2.2.1. Vertex shader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fragment-shader">2.2.2. Fragment shader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-program">2.2.3. Shader program</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-the-triangle">2.3. Draw the triangle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-colours">2.4. More colours</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-another-triangle">2.5. Adding another triangle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">2.6. Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#video-walkthrough">2.7. Video walkthrough</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dr Jon Shiach
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>